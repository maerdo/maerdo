<php?php
php/php*php*
php php*php Zendphp Framework
php php*
php php*php LICENSE
php php*
php php*php Thisphp sourcephp filephp isphp subjectphp tophp thephp newphp BSDphp licensephp thatphp isphp bundled
php php*php withphp thisphp packagephp inphp thephp filephp LICENSEphp.txtphp.
php php*php Itphp isphp alsophp availablephp throughphp thephp worldphp-widephp-webphp atphp thisphp URLphp:
php php*php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsd
php php*php Ifphp youphp didphp notphp receivephp aphp copyphp ofphp thephp licensephp andphp arephp unablephp to
php php*php obtainphp itphp throughphp thephp worldphp-widephp-webphp,php pleasephp sendphp anphp email
php php*php tophp licensephp@zendphp.comphp sophp wephp canphp sendphp youphp aphp copyphp immediatelyphp.
php php*
php php*php php@categoryphp php php Zend
php php*php php@packagephp php php php Zendphp_Pdf
php php*php php@subpackagephp Fonts
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php php@versionphp php php php php$Idphp:php Fontphp.phpphp php2php0php2php1php1php php2php0php1php0php-php0php1php-php1php2php php0php2php:php1php4php:php2php9Zphp yoshidaphp@zendphp.cophp.jpphp php$
php php*php/


php/php*php*
php php*php Abstractphp factoryphp classphp whichphp vendsphp php{php@linkphp Zendphp_Pdfphp_Resourcephp_Fontphp}php objectsphp.
php php*
php php*php Fontphp objectsphp themselvesphp arephp normallyphp instantiatedphp throughphp thephp factoryphp methods
php php*php php{php@linkphp fontWithNamephp(php)php}php orphp php{php@linkphp fontWithPathphp(php)php}php.
php php*
php php*php Thisphp classphp isphp alsophp thephp homephp forphp fontphp-relatedphp constantsphp becausephp thephp namephp of
php php*php thephp truephp basephp classphp php(php{php@linkphp Zendphp_Pdfphp_Resourcephp_Fontphp}php)php isphp notphp intuitivephp forphp the
php php*php endphp userphp.
php php*
php php*php php@packagephp php php php Zendphp_Pdf
php php*php php@subpackagephp Fonts
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php/
abstractphp classphp Zendphp_Pdfphp_Font
php{
php php php/php*php*php*php*php Classphp Constantsphp php*php*php*php*php/


php php php/php*php Fontphp Typesphp php*php/

php php php php php/php*php*
php php php php php php*php Unknownphp fontphp typephp.
php php php php php php*php/
php php php php constphp TYPEphp_UNKNOWNphp php=php php0php;

php php php php php/php*php*
php php php php php php*php Onephp ofphp thephp standardphp php1php4php PDFphp fontsphp.
php php php php php php*php/
php php php php constphp TYPEphp_STANDARDphp php=php php1php;

php php php php php/php*php*
php php php php php php*php Aphp PostScriptphp Typephp php1php fontphp.
php php php php php php*php/
php php php php constphp TYPEphp_TYPEphp_php1php php=php php2php;

php php php php php/php*php*
php php php php php php*php Aphp TrueTypephp fontphp orphp anphp OpenTypephp fontphp containingphp TrueTypephp outlinesphp.
php php php php php php*php/
php php php php constphp TYPEphp_TRUETYPEphp php=php php3php;

php php php php php/php*php*
php php php php php php*php Typephp php0php compositephp fontphp.
php php php php php php*php/
php php php php constphp TYPEphp_TYPEphp_php0php php=php php4php;

php php php php php/php*php*
php php php php php php*php CIDphp fontphp containingphp aphp PostScriptphp Typephp php1php fontphp.
php php php php php php*php Thesephp fontsphp arephp usedphp onlyphp tophp constructphp Typephp php0php compositephp fontsphp andphp canphp'tphp bephp usedphp directly
php php php php php php*php/
php php php php constphp TYPEphp_CIDFONTphp_TYPEphp_php0php php=php php5php;

php php php php php/php*php*
php php php php php php*php CIDphp fontphp containingphp aphp TrueTypephp fontphp orphp anphp OpenTypephp fontphp containingphp TrueTypephp outlinesphp.
php php php php php php*php Thesephp fontsphp arephp usedphp onlyphp tophp constructphp Typephp php0php compositephp fontsphp andphp canphp'tphp bephp usedphp directly
php php php php php php*php/
php php php php constphp TYPEphp_CIDFONTphp_TYPEphp_php2php php=php php6php;


php php php/php*php Namesphp ofphp thephp Standardphp php1php4php PDFphp Fontsphp php*php/

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp standardphp PDFphp fontphp Courierphp.
php php php php php php*php/
php php php php constphp FONTphp_COURIERphp php=php php'Courierphp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp boldphp stylephp ofphp thephp standardphp PDFphp fontphp Courierphp.
php php php php php php*php/
php php php php constphp FONTphp_COURIERphp_BOLDphp php=php php'Courierphp-Boldphp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp italicphp stylephp ofphp thephp standardphp PDFphp fontphp Courierphp.
php php php php php php*php/
php php php php constphp FONTphp_COURIERphp_OBLIQUEphp php=php php'Courierphp-Obliquephp'php;

php php php php php/php*php*
php php php php php php*php Conveniencephp constantphp forphp aphp commonphp misspellingphp of
php php php php php php*php php{php@linkphp FONTphp_COURIERphp_OBLIQUEphp}php.
php php php php php php*php/
php php php php constphp FONTphp_COURIERphp_ITALICphp php=php php'Courierphp-Obliquephp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp boldphp andphp italicphp stylephp ofphp thephp standardphp PDFphp fontphp Courierphp.
php php php php php php*php/
php php php php constphp FONTphp_COURIERphp_BOLDphp_OBLIQUEphp php=php php'Courierphp-BoldObliquephp'php;

php php php php php/php*php*
php php php php php php*php Conveniencephp constantphp forphp aphp commonphp misspellingphp of
php php php php php php*php php{php@linkphp FONTphp_COURIERphp_BOLDphp_OBLIQUEphp}php.
php php php php php php*php/
php php php php constphp FONTphp_COURIERphp_BOLDphp_ITALICphp php=php php'Courierphp-BoldObliquephp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp standardphp PDFphp fontphp Helveticaphp.
php php php php php php*php/
php php php php constphp FONTphp_HELVETICAphp php=php php'Helveticaphp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp boldphp stylephp ofphp thephp standardphp PDFphp fontphp Helveticaphp.
php php php php php php*php/
php php php php constphp FONTphp_HELVETICAphp_BOLDphp php=php php'Helveticaphp-Boldphp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp italicphp stylephp ofphp thephp standardphp PDFphp fontphp Helveticaphp.
php php php php php php*php/
php php php php constphp FONTphp_HELVETICAphp_OBLIQUEphp php=php php'Helveticaphp-Obliquephp'php;

php php php php php/php*php*
php php php php php php*php Conveniencephp constantphp forphp aphp commonphp misspellingphp of
php php php php php php*php php{php@linkphp FONTphp_HELVETICAphp_OBLIQUEphp}php.
php php php php php php*php/
php php php php constphp FONTphp_HELVETICAphp_ITALICphp php=php php'Helveticaphp-Obliquephp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp boldphp andphp italicphp stylephp ofphp thephp standardphp PDFphp fontphp Helveticaphp.
php php php php php php*php/
php php php php constphp FONTphp_HELVETICAphp_BOLDphp_OBLIQUEphp php=php php'Helveticaphp-BoldObliquephp'php;

php php php php php/php*php*
php php php php php php*php Conveniencephp constantphp forphp aphp commonphp misspellingphp of
php php php php php php*php php{php@linkphp FONTphp_HELVETICAphp_BOLDphp_OBLIQUEphp}php.
php php php php php php*php/
php php php php constphp FONTphp_HELVETICAphp_BOLDphp_ITALICphp php=php php'Helveticaphp-BoldObliquephp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp standardphp PDFphp fontphp Symbolphp.
php php php php php php*php/
php php php php constphp FONTphp_SYMBOLphp php=php php'Symbolphp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp standardphp PDFphp fontphp Timesphp.
php php php php php php*php/
php php php php constphp FONTphp_TIMESphp_ROMANphp php=php php'Timesphp-Romanphp'php;

php php php php php/php*php*
php php php php php php*php Conveniencephp constantphp forphp aphp commonphp misspellingphp of
php php php php php php*php php{php@linkphp FONTphp_TIMESphp_ROMANphp}php.
php php php php php php*php/
php php php php constphp FONTphp_TIMESphp php=php php'Timesphp-Romanphp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp boldphp stylephp ofphp thephp standardphp PDFphp fontphp Timesphp.
php php php php php php*php/
php php php php constphp FONTphp_TIMESphp_BOLDphp php=php php'Timesphp-Boldphp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp italicphp stylephp ofphp thephp standardphp PDFphp fontphp Timesphp.
php php php php php php*php/
php php php php constphp FONTphp_TIMESphp_ITALICphp php=php php'Timesphp-Italicphp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp boldphp andphp italicphp stylephp ofphp thephp standardphp PDFphp fontphp Timesphp.
php php php php php php*php/
php php php php constphp FONTphp_TIMESphp_BOLDphp_ITALICphp php=php php'Timesphp-BoldItalicphp'php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp standardphp PDFphp fontphp Zapfphp Dingbatsphp.
php php php php php php*php/
php php php php constphp FONTphp_ZAPFDINGBATSphp php=php php'ZapfDingbatsphp'php;


php php php/php*php Fontphp Namephp Stringphp Typesphp php*php/

php php php php php/php*php*
php php php php php php*php Fullphp copyrightphp noticephp forphp thephp fontphp.
php php php php php php*php/
php php php php constphp NAMEphp_COPYRIGHTphp php=php php php0php;

php php php php php/php*php*
php php php php php php*php Fontphp familyphp namephp.php Usedphp tophp groupphp similarphp stylesphp ofphp fontsphp togetherphp.
php php php php php php*php/
php php php php constphp NAMEphp_FAMILYphp php=php php php1php;

php php php php php/php*php*
php php php php php php*php Fontphp stylephp withinphp thephp fontphp familyphp.php Examplesphp:php Regularphp,php Italicphp,php Boldphp,php etcphp.
php php php php php php*php/
php php php php constphp NAMEphp_STYLEphp php=php php php2php;

php php php php php/php*php*
php php php php php php*php Uniquephp fontphp identifierphp.
php php php php php php*php/
php php php php constphp NAMEphp_IDphp php=php php php3php;

php php php php php/php*php*
php php php php php php*php Fullphp fontphp namephp.php Usuallyphp aphp combinationphp ofphp thephp php{php@linkphp NAMEphp_FAMILYphp}php and
php php php php php php*php php{php@linkphp NAMEphp_STYLEphp}php stringsphp.
php php php php php php*php/
php php php php constphp NAMEphp_FULLphp php=php php php4php;

php php php php php/php*php*
php php php php php php*php Versionphp numberphp ofphp thephp fontphp.
php php php php php php*php/
php php php php constphp NAMEphp_VERSIONphp php=php php php5php;

php php php php php/php*php*
php php php php php php*php PostScriptphp namephp forphp thephp fontphp.php Thisphp isphp thephp namephp usedphp tophp identifyphp fonts
php php php php php php*php internallyphp andphp withinphp thephp PDFphp filephp.
php php php php php php*php/
php php php php constphp NAMEphp_POSTSCRIPTphp php=php php php6php;

php php php php php/php*php*
php php php php php php*php Fontphp trademarkphp noticephp.php Thisphp isphp distinctphp fromphp thephp php{php@linkphp NAMEphp_COPYRIGHTphp}php.
php php php php php php*php/
php php php php constphp NAMEphp_TRADEMARKphp php=php php php7php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp fontphp manufacturerphp.
php php php php php php*php/
php php php php constphp NAMEphp_MANUFACTURERphp php=php php php8php;

php php php php php/php*php*
php php php php php php*php Namephp ofphp thephp designerphp ofphp thephp fontphp.
php php php php php php*php/
php php php php constphp NAMEphp_DESIGNERphp php=php php php9php;

php php php php php/php*php*
php php php php php php*php Descriptionphp ofphp thephp fontphp.php Mayphp containphp revisionphp informationphp,php usage
php php php php php php*php recommendationsphp,php featuresphp,php etcphp.
php php php php php php*php/
php php php php constphp NAMEphp_DESCRIPTIONphp php=php php1php0php;

php php php php php/php*php*
php php php php php php*php URLphp ofphp thephp fontphp vendorphp.php Somephp fontsphp mayphp containphp aphp uniquephp serialphp number
php php php php php php*php embeddedphp inphp thisphp URLphp,php whichphp isphp usedphp forphp licensingphp.
php php php php php php*php/
php php php php constphp NAMEphp_VENDORphp_URLphp php=php php1php1php;

php php php php php/php*php*
php php php php php php*php URLphp ofphp thephp fontphp designerphp php(php{php@linkphp NAMEphp_DESIGNERphp}php)php.
php php php php php php*php/
php php php php constphp NAMEphp_DESIGNERphp_URLphp php=php php1php2php;

php php php php php/php*php*
php php php php php php*php Plainphp languagephp licensingphp termsphp forphp thephp fontphp.
php php php php php php*php/
php php php php constphp NAMEphp_LICENSEphp php=php php1php3php;

php php php php php/php*php*
php php php php php php*php URLphp ofphp morephp detailedphp licensingphp informationphp forphp thephp fontphp.
php php php php php php*php/
php php php php constphp NAMEphp_LICENSEphp_URLphp php=php php1php4php;

php php php php php/php*php*
php php php php php php*php Preferredphp fontphp familyphp.php Usedphp byphp somephp fontsphp tophp workphp aroundphp aphp Microsoft
php php php php php php*php Windowsphp limitationphp wherephp onlyphp fourphp fontsphp stylesphp canphp sharephp thephp same
php php php php php php*php php{php@linkphp NAMEphp_FAMILYphp}php valuephp.
php php php php php php*php/
php php php php constphp NAMEphp_PREFERREDphp_FAMILYphp php=php php1php6php;

php php php php php/php*php*
php php php php php php*php Preferredphp fontphp stylephp.php Aphp morephp descriptivephp stringphp thanphp php{php@linkphp NAMEphp_STYLEphp}php.
php php php php php php*php/
php php php php constphp NAMEphp_PREFERREDphp_STYLEphp php=php php1php7php;

php php php php php/php*php*
php php php php php php*php Suggestedphp textphp tophp usephp asphp aphp representativephp samplephp ofphp thephp fontphp.
php php php php php php*php/
php php php php constphp NAMEphp_SAMPLEphp_TEXTphp php=php php1php9php;

php php php php php/php*php*
php php php php php php*php PostScriptphp CIDphp findfontphp namephp.
php php php php php php*php/
php php php php constphp NAMEphp_CIDphp_NAMEphp php=php php2php0php;


php php php/php*php Fontphp Weightsphp php*php/

php php php php php/php*php*
php php php php php php*php Thinphp fontphp weightphp.
php php php php php php*php/
php php php php constphp WEIGHTphp_THINphp php=php php1php0php0php;

php php php php php/php*php*
php php php php php php*php Extraphp-lightphp php(Ultraphp-lightphp)php fontphp weightphp.
php php php php php php*php/
php php php php constphp WEIGHTphp_EXTRAphp_LIGHTphp php=php php2php0php0php;

php php php php php/php*php*
php php php php php php*php Lightphp fontphp weightphp.
php php php php php php*php/
php php php php constphp WEIGHTphp_LIGHTphp php=php php3php0php0php;

php php php php php/php*php*
php php php php php php*php Normalphp php(Regularphp)php fontphp weightphp.
php php php php php php*php/
php php php php constphp WEIGHTphp_NORMALphp php=php php4php0php0php;

php php php php php/php*php*
php php php php php php*php Mediumphp fontphp weightphp.
php php php php php php*php/
php php php php constphp WEIGHTphp_MEDIUMphp php=php php5php0php0php;

php php php php php/php*php*
php php php php php php*php Semiphp-boldphp php(Demiphp-boldphp)php fontphp weightphp.
php php php php php php*php/
php php php php constphp WEIGHTphp_SEMIphp_BOLDphp php=php php6php0php0php;

php php php php php/php*php*
php php php php php php*php Boldphp fontphp weightphp.
php php php php php php*php/
php php php php constphp WEIGHTphp_BOLDphp php=php php7php0php0php;

php php php php php/php*php*
php php php php php php*php Extraphp-boldphp php(Ultraphp-boldphp)php fontphp weightphp.
php php php php php php*php/
php php php php constphp WEIGHTphp_EXTRAphp_BOLDphp php=php php8php0php0php;

php php php php php/php*php*
php php php php php php*php Blackphp php(Heavyphp)php fontphp weightphp.
php php php php php php*php/
php php php php constphp WEIGHTphp_BLACKphp php=php php9php0php0php;


php php php/php*php Fontphp Widthsphp php*php/

php php php php php/php*php*
php php php php php php*php Ultraphp-condensedphp fontphp widthphp.php Typicallyphp php5php0php%php ofphp normalphp.
php php php php php php*php/
php php php php constphp WIDTHphp_ULTRAphp_CONDENSEDphp php=php php1php;

php php php php php/php*php*
php php php php php php*php Extraphp-condensedphp fontphp widthphp.php Typicallyphp php6php2php.php5php%php ofphp normalphp.
php php php php php php*php/
php php php php constphp WIDTHphp_EXTRAphp_CONDENSEDphp php=php php2php;

php php php php php/php*php*
php php php php php php*php Condensedphp fontphp widthphp.php Typicallyphp php7php5php%php ofphp normalphp.
php php php php php php*php/
php php php php constphp WIDTHphp_CONDENSEDphp php=php php3php;

php php php php php/php*php*
php php php php php php*php Semiphp-condensedphp fontphp widthphp.php Typicallyphp php8php7php.php5php%php ofphp normalphp.
php php php php php php*php/
php php php php constphp WIDTHphp_SEMIphp_CONDENSEDphp php=php php4php;

php php php php php/php*php*
php php php php php php*php Normalphp php(Mediumphp)php fontphp widthphp.
php php php php php php*php/
php php php php constphp WIDTHphp_NORMALphp php=php php5php;

php php php php php/php*php*
php php php php php php*php Semiphp-expandedphp fontphp widthphp.php Typicallyphp php1php1php2php.php5php%php ofphp normalphp.
php php php php php php*php/
php php php php constphp WIDTHphp_SEMIphp_EXPANDEDphp php=php php6php;

php php php php php/php*php*
php php php php php php*php Expandedphp fontphp widthphp.php Typicallyphp php1php2php5php%php ofphp normalphp.
php php php php php php*php/
php php php php constphp WIDTHphp_EXPANDEDphp php=php php7php;

php php php php php/php*php*
php php php php php php*php Extraphp-expandedphp fontphp widthphp.php Typicallyphp php1php5php0php%php ofphp normalphp.
php php php php php php*php/
php php php php constphp WIDTHphp_EXTRAphp_EXPANDEDphp php=php php8php;

php php php php php/php*php*
php php php php php php*php Ultraphp-expandedphp fontphp widthphp.php Typicallyphp php2php0php0php%php ofphp normalphp.
php php php php php php*php/
php php php php constphp WIDTHphp_ULTRAphp_EXPANDEDphp php=php php9php;


php php php/php*php Fontphp Embeddingphp Optionsphp php*php/

php php php php php/php*php*
php php php php php php*php Dophp notphp embedphp thephp fontphp inphp thephp PDFphp documentphp.
php php php php php php*php/
php php php php constphp EMBEDphp_DONTphp_EMBEDphp php=php php0xphp0php1php;

php php php php php/php*php*
php php php php php php*php Embedphp,php butphp dophp notphp subsetphp thephp fontphp inphp thephp PDFphp documentphp.
php php php php php php*php/
php php php php constphp EMBEDphp_DONTphp_SUBSETphp php=php php0xphp0php2php;

php php php php php/php*php*
php php php php php php*php Embedphp,php butphp dophp notphp compressphp thephp fontphp inphp thephp PDFphp documentphp.
php php php php php php*php/
php php php php constphp EMBEDphp_DONTphp_COMPRESSphp php=php php0xphp0php4php;

php php php php php/php*php*
php php php php php php*php Suppressphp thephp exceptionphp normallyphp thrownphp ifphp thephp fontphp cannotphp bephp embedded
php php php php php php*php duephp tophp itsphp copyrightphp bitsphp beingphp setphp.
php php php php php php*php/
php php php php constphp EMBEDphp_SUPPRESSphp_EMBEDphp_EXCEPTIONphp php=php php0xphp0php8php;



php php php/php*php*php*php*php Classphp Variablesphp php*php*php*php*php/


php php php php php/php*php*
php php php php php php*php Arrayphp whosephp keysphp arephp thephp uniquephp PostScriptphp namesphp ofphp instantiatedphp fontsphp.
php php php php php php*php Thephp valuesphp arephp thephp fontphp objectsphp themselvesphp.
php php php php php php*php php@varphp array
php php php php php php*php/
php php php php privatephp staticphp php$php_fontNamesphp php=php arrayphp(php)php;

php php php php php/php*php*
php php php php php php*php Arrayphp whosephp keysphp arephp thephp mdphp5php hashphp ofphp thephp fullphp pathsphp onphp diskphp forphp parsed
php php php php php php*php fontsphp.php Thephp valuesphp arephp thephp fontphp objectsphp themselvesphp.
php php php php php php*php php@varphp array
php php php php php php*php/
php php php php privatephp staticphp php$php_fontFilePathsphp php=php arrayphp(php)php;



php php php/php*php*php*php*php Publicphp Interfacephp php*php*php*php*php/


php php php/php*php Factoryphp Methodsphp php*php/

php php php php php/php*php*
php php php php php php*php Returnsphp aphp php{php@linkphp Zendphp_Pdfphp_Resourcephp_Fontphp}php objectphp byphp fullphp namephp.
php php php php php php*
php php php php php php*php Thisphp isphp thephp preferredphp methodphp tophp obtainphp onephp ofphp thephp standardphp php1php4php PDFphp fontsphp.
php php php php php php*
php php php php php php*php Thephp resultphp ofphp thisphp methodphp isphp cachedphp,php preventingphp unnecessaryphp duplication
php php php php php php*php ofphp fontphp objectsphp.php Repetitivephp callsphp forphp aphp fontphp withphp thephp samephp namephp will
php php php php php php*php returnphp thephp samephp objectphp.
php php php php php php*
php php php php php php*php Thephp php$embeddingOptionsphp parameterphp allowsphp youphp tophp setphp certainphp flagsphp related
php php php php php php*php tophp fontphp embeddingphp.php Youphp mayphp combinephp optionsphp byphp ORphp-ingphp themphp togetherphp.php See
php php php php php php*php thephp EMBEDphp_php constantsphp definedphp inphp php{php@linkphp Zendphp_Pdfphp_Fontphp}php forphp thephp listphp of
php php php php php php*php availablephp optionsphp andphp theirphp descriptionsphp.php Notephp thatphp thisphp valuephp isphp only
php php php php php php*php usedphp whenphp creatingphp aphp fontphp forphp thephp firstphp timephp.php Ifphp aphp fontphp withphp thephp same
php php php php php php*php namephp alreadyphp existsphp,php youphp willphp getphp thatphp objectphp andphp thephp optionsphp youphp specify
php php php php php php*php herephp willphp bephp ignoredphp.php Thisphp isphp becausephp fontsphp arephp onlyphp embeddedphp withinphp the
php php php php php php*php PDFphp filephp oncephp.
php php php php php php*
php php php php php php*php Ifphp thephp fontphp namephp suppliedphp doesphp notphp matchphp thephp namephp ofphp aphp previously
php php php php php php*php instantiatedphp objectphp andphp itphp isphp notphp onephp ofphp thephp php1php4php standardphp PDFphp fontsphp,php an
php php php php php php*php exceptionphp willphp bephp thrownphp.
php php php php php php*
php php php php php php*php php@paramphp stringphp php$namephp Fullphp PostScriptphp namephp ofphp fontphp.
php php php php php php*php php@paramphp integerphp php$embeddingOptionsphp php(optionalphp)php Optionsphp forphp fontphp embeddingphp.
php php php php php php*php php@returnphp Zendphp_Pdfphp_Resourcephp_Font
php php php php php php*php php@throwsphp Zendphp_Pdfphp_Exception
php php php php php php*php/
php php php php publicphp staticphp functionphp fontWithNamephp(php$namephp,php php$embeddingOptionsphp php=php php0php)
php php php php php php php php php{
php php php php php php php php php/php*php Firstphp checkphp thephp cachephp.php Donphp'tphp duplicatephp fontphp objectsphp.
php php php php php php php php php php*php/
php php php php php php php php ifphp php(issetphp(Zendphp_Pdfphp_Fontphp:php:php$php_fontNamesphp[php$namephp]php)php)php php{
php php php php php php php php php php php php returnphp Zendphp_Pdfphp_Fontphp:php:php$php_fontNamesphp[php$namephp]php;
php php php php php php php php php}

php php php php php php php php php/php*php*
php php php php php php php php php php*php php@todophp Itphp wouldphp bephp coolphp tophp bephp ablephp tophp havephp aphp mappingphp ofphp fontphp namesphp to
php php php php php php php php php php*php php php filephp pathsphp inphp aphp configurationphp filephp forphp frequentlyphp usedphp custom
php php php php php php php php php php*php php php fontsphp.php Thisphp wouldphp allowphp aphp userphp tophp usephp customphp fontsphp withoutphp having
php php php php php php php php php php*php php php tophp hardphp-codephp filephp pathsphp allphp overphp thephp placephp.php Tablephp thisphp ideaphp until
php php php php php php php php php php*php php php php{php@linkphp Zendphp_Configphp}php isphp readyphp.
php php php php php php php php php php*php/

php php php php php php php php php/php*php Notphp anphp existingphp fontphp andphp nophp mappingphp inphp thephp configphp filephp.php Checkphp tophp see
php php php php php php php php php php*php ifphp thisphp isphp onephp ofphp thephp standardphp php1php4php PDFphp fontsphp.
php php php php php php php php php php*php/
php php php php php php php php switchphp php(php$namephp)php php{
php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_COURIERphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/Courierphp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_Courierphp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_COURIERphp_BOLDphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/CourierBoldphp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_CourierBoldphp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_COURIERphp_OBLIQUEphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/CourierObliquephp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_CourierObliquephp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_COURIERphp_BOLDphp_OBLIQUEphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/CourierBoldObliquephp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_CourierBoldObliquephp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_HELVETICAphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/Helveticaphp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_Helveticaphp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_HELVETICAphp_BOLDphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/HelveticaBoldphp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_HelveticaBoldphp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_HELVETICAphp_OBLIQUEphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/HelveticaObliquephp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_HelveticaObliquephp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_HELVETICAphp_BOLDphp_OBLIQUEphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/HelveticaBoldObliquephp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_HelveticaBoldObliquephp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_SYMBOLphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/Symbolphp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_Symbolphp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_TIMESphp_ROMANphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/TimesRomanphp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_TimesRomanphp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_TIMESphp_BOLDphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/TimesBoldphp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_TimesBoldphp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_TIMESphp_ITALICphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/TimesItalicphp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_TimesItalicphp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_TIMESphp_BOLDphp_ITALICphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/TimesBoldItalicphp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_TimesBoldItalicphp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp Zendphp_Pdfphp_Fontphp:php:FONTphp_ZAPFDINGBATSphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Standardphp/ZapfDingbatsphp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Standardphp_ZapfDingbatsphp(php)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php defaultphp:
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php php php php throwphp newphp Zendphp_Pdfphp_Exceptionphp(php"Unknownphp fontphp namephp:php php$namephp"php,
php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php Zendphp_Pdfphp_Exceptionphp:php:BADphp_FONTphp_NAMEphp)php;
php php php php php php php php php}

php php php php php php php php php/php*php Addphp thisphp newphp fontphp tophp thephp cachephp arrayphp andphp returnphp itphp forphp usephp.
php php php php php php php php php php*php/
php php php php php php php php Zendphp_Pdfphp_Fontphp:php:php$php_fontNamesphp[php$namephp]php php=php php$fontphp;
php php php php php php php php returnphp php$fontphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Returnsphp aphp php{php@linkphp Zendphp_Pdfphp_Resourcephp_Fontphp}php objectphp byphp filephp pathphp.
php php php php php php*
php php php php php php*php Thephp resultphp ofphp thisphp methodphp isphp cachedphp,php preventingphp unnecessaryphp duplication
php php php php php php*php ofphp fontphp objectsphp.php Repetitivephp callsphp forphp thephp fontphp withphp thephp samephp pathphp will
php php php php php php*php returnphp thephp samephp objectphp.
php php php php php php*
php php php php php php*php Thephp php$embeddingOptionsphp parameterphp allowsphp youphp tophp setphp certainphp flagsphp related
php php php php php php*php tophp fontphp embeddingphp.php Youphp mayphp combinephp optionsphp byphp ORphp-ingphp themphp togetherphp.php See
php php php php php php*php thephp EMBEDphp_php constantsphp definedphp inphp php{php@linkphp Zendphp_Pdfphp_Fontphp}php forphp thephp listphp of
php php php php php php*php availablephp optionsphp andphp theirphp descriptionsphp.php Notephp thatphp thisphp valuephp isphp only
php php php php php php*php usedphp whenphp creatingphp aphp fontphp forphp thephp firstphp timephp.php Ifphp aphp fontphp withphp thephp same
php php php php php php*php namephp alreadyphp existsphp,php youphp willphp getphp thatphp objectphp andphp thephp optionsphp youphp specify
php php php php php php*php herephp willphp bephp ignoredphp.php Thisphp isphp becausephp fontsphp arephp onlyphp embeddedphp withinphp the
php php php php php php*php PDFphp filephp oncephp.
php php php php php php*
php php php php php php*php Ifphp thephp filephp pathphp suppliedphp doesphp notphp matchphp thephp pathphp ofphp aphp previously
php php php php php php*php instantiatedphp objectphp orphp thephp fontphp typephp cannotphp bephp determinedphp,php anphp exception
php php php php php php*php willphp bephp thrownphp.
php php php php php php*
php php php php php php*php php@paramphp stringphp php$filePathphp Fullphp pathphp tophp thephp fontphp filephp.
php php php php php php*php php@paramphp integerphp php$embeddingOptionsphp php(optionalphp)php Optionsphp forphp fontphp embeddingphp.
php php php php php php*php php@returnphp Zendphp_Pdfphp_Resourcephp_Font
php php php php php php*php php@throwsphp Zendphp_Pdfphp_Exception
php php php php php php*php/
php php php php publicphp staticphp functionphp fontWithPathphp(php$filePathphp,php php$embeddingOptionsphp php=php php0php)
php php php php php{
php php php php php php php php php/php*php Firstphp checkphp thephp cachephp.php Donphp'tphp duplicatephp fontphp objectsphp.
php php php php php php php php php php*php/
php php php php php php php php php$filePathKeyphp php=php mdphp5php(php$filePathphp)php;
php php php php php php php php ifphp php(issetphp(Zendphp_Pdfphp_Fontphp:php:php$php_fontFilePathsphp[php$filePathKeyphp]php)php)php php{
php php php php php php php php php php php php returnphp Zendphp_Pdfphp_Fontphp:php:php$php_fontFilePathsphp[php$filePathKeyphp]php;
php php php php php php php php php}

php php php php php php php php php/php*php Createphp aphp filephp parserphp dataphp sourcephp objectphp forphp thisphp filephp.php Filephp pathphp and
php php php php php php php php php php*php accessphp permissionphp checksphp arephp handledphp herephp.
php php php php php php php php php php*php/
php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/FileParserDataSourcephp/Filephp.phpphp'php;
php php php php php php php php php$dataSourcephp php=php newphp Zendphp_Pdfphp_FileParserDataSourcephp_Filephp(php$filePathphp)php;

php php php php php php php php php/php*php Attemptphp tophp determinephp thephp typephp ofphp fontphp.php Wephp canphp'tphp alwaysphp trustphp file
php php php php php php php php php php*php extensionsphp,php butphp tryphp thatphp firstphp sincephp itphp'sphp fastestphp.
php php php php php php php php php php*php/
php php php php php php php php php$fileExtensionphp php=php strtolowerphp(pathinfophp(php$filePathphp,php PATHINFOphp_EXTENSIONphp)php)php;

php php php php php php php php php/php*php Ifphp itphp turnsphp outphp thatphp thephp filephp isphp namedphp improperlyphp andphp wephp guessphp the
php php php php php php php php php php*php wrongphp typephp,php wephp'llphp getphp nullphp insteadphp ofphp aphp fontphp objectphp.
php php php php php php php php php php*php/
php php php php php php php php switchphp php(php$fileExtensionphp)php php{
php php php php php php php php php php php php casephp php'ttfphp'php:
php php php php php php php php php php php php php php php php php$fontphp php=php Zendphp_Pdfphp_Fontphp:php:php_extractTrueTypeFontphp(php$dataSourcephp,php php$embeddingOptionsphp)php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php defaultphp:
php php php php php php php php php php php php php php php php php/php*php Unrecognizedphp extensionphp.php Tryphp tophp determinephp thephp typephp byphp actually
php php php php php php php php php php php php php php php php php php*php parsingphp itphp belowphp.
php php php php php php php php php php php php php php php php php php*php/
php php php php php php php php php php php php php php php php php$fontphp php=php nullphp;
php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php}


php php php php php php php php ifphp php(php$fontphp php=php=php=php nullphp)php php{
php php php php php php php php php php php php php/php*php Therephp wasphp nophp matchphp forphp thephp filephp extensionphp orphp thephp extensionphp was
php php php php php php php php php php php php php php*php wrongphp.php Attemptphp tophp detectphp thephp typephp ofphp fontphp byphp actuallyphp parsingphp itphp.
php php php php php php php php php php php php php php*php Wephp'llphp dophp thephp checksphp inphp orderphp ofphp mostphp likelyphp formatphp tophp tryphp to
php php php php php php php php php php php php php php*php reducephp thephp detectionphp timephp.
php php php php php php php php php php php php php php*php/

php php php php php php php php php php php php php/php/php OpenType

php php php php php php php php php php php php php/php/php TrueType
php php php php php php php php php php php php ifphp php(php(php$fontphp php=php=php=php nullphp)php php&php&php php(php$fileExtensionphp php!php=php php'ttfphp'php)php)php php{
php php php php php php php php php php php php php php php php php$fontphp php=php Zendphp_Pdfphp_Fontphp:php:php_extractTrueTypeFontphp(php$dataSourcephp,php php$embeddingOptionsphp)php;
php php php php php php php php php php php php php}

php php php php php php php php php php php php php/php/php Typephp php1php PostScript

php php php php php php php php php php php php php/php/php Macphp OSphp Xphp dfont

php php php php php php php php php php php php php/php/php othersphp?
php php php php php php php php php}


php php php php php php php php php/php*php Donephp withphp thephp dataphp sourcephp objectphp.
php php php php php php php php php php*php/
php php php php php php php php php$dataSourcephp php=php nullphp;

php php php php php php php php ifphp php(php$fontphp php!php=php=php nullphp)php php{
php php php php php php php php php php php php php/php*php Parsingphp wasphp successfulphp.php Addphp thisphp fontphp instancephp tophp thephp cachephp arrays
php php php php php php php php php php php php php php*php andphp returnphp itphp forphp usephp.
php php php php php php php php php php php php php php*php/
php php php php php php php php php php php php php$fontNamephp php=php php$fontphp-php>getFontNamephp(Zendphp_Pdfphp_Fontphp:php:NAMEphp_POSTSCRIPTphp,php php'php'php,php php'php'php)php;
php php php php php php php php php php php php Zendphp_Pdfphp_Fontphp:php:php$php_fontNamesphp[php$fontNamephp]php php=php php$fontphp;
php php php php php php php php php php php php php$filePathKeyphp php=php mdphp5php(php$filePathphp)php;
php php php php php php php php php php php php Zendphp_Pdfphp_Fontphp:php:php$php_fontFilePathsphp[php$filePathKeyphp]php php=php php$fontphp;
php php php php php php php php php php php php returnphp php$fontphp;

php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php/php*php Thephp typephp ofphp fontphp couldphp notphp bephp determinedphp.php Givephp upphp.
php php php php php php php php php php php php php php*php/
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Pdfphp_Exceptionphp(php"Cannotphp determinephp fontphp typephp:php php$filePathphp"php,
php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php Zendphp_Pdfphp_Exceptionphp:php:CANTphp_DETERMINEphp_FONTphp_TYPEphp)php;
php php php php php php php php php php}

php php php php php}



php php php/php*php*php*php*php Internalphp Methodsphp php*php*php*php*php/


php php php/php*php Fontphp Extractionphp Methodsphp php*php/

php php php php php/php*php*
php php php php php php*php Attemptsphp tophp extractphp aphp TrueTypephp fontphp fromphp thephp dataphp sourcephp.
php php php php php php*
php php php php php php*php Ifphp thephp fontphp parserphp throwsphp anphp exceptionphp thatphp suggestsphp thephp dataphp source
php php php php php php*php simplyphp doesnphp'tphp containphp aphp TrueTypephp fontphp,php catchesphp itphp andphp returnsphp nullphp.php If
php php php php php php*php anphp exceptionphp isphp thrownphp thatphp suggestsphp thephp TrueTypephp fontphp isphp corruptphp or
php php php php php php*php otherwisephp unusablephp,php throwsphp thatphp exceptionphp.php Ifphp successfulphp,php returnsphp the
php php php php php php*php fontphp objectphp.
php php php php php php*
php php php php php php*php php@paramphp Zendphp_Pdfphp_FileParserDataSourcephp php$dataSource
php php php php php php*php php@paramphp integerphp php$embeddingOptionsphp Optionsphp forphp fontphp embeddingphp.
php php php php php php*php php@returnphp Zendphp_Pdfphp_Resourcephp_Fontphp_OpenTypephp_TrueTypephp Mayphp alsophp returnphp nullphp if
php php php php php php*php php php thephp dataphp sourcephp doesphp notphp appearphp tophp containphp aphp TrueTypephp fontphp.
php php php php php php*php php@throwsphp Zendphp_Pdfphp_Exception
php php php php php php*php/
php php php php protectedphp staticphp functionphp php_extractTrueTypeFontphp(php$dataSourcephp,php php$embeddingOptionsphp)
php php php php php{
php php php php php php php php tryphp php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/FileParserphp/Fontphp/OpenTypephp/TrueTypephp.phpphp'php;
php php php php php php php php php php php php php$fontParserphp php=php newphp Zendphp_Pdfphp_FileParserphp_Fontphp_OpenTypephp_TrueTypephp(php$dataSourcephp)php;

php php php php php php php php php php php php php$fontParserphp-php>parsephp(php)php;
php php php php php php php php php php php php ifphp php(php$fontParserphp-php>isAdobeLatinSubsetphp)php php{
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Simplephp/Parsedphp/TrueTypephp.phpphp'php;
php php php php php php php php php php php php php php php php php$fontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Simplephp_Parsedphp_TrueTypephp(php$fontParserphp,php php$embeddingOptionsphp)php;
php php php php php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/CidFontphp/TrueTypephp.phpphp'php;
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Resourcephp/Fontphp/Typephp0php.phpphp'php;
php php php php php php php php php php php php php php php php php/php*php Usephp Compositephp Typephp php0php fontphp whichphp supportsphp Unicodephp characterphp mappingphp php*php/
php php php php php php php php php php php php php php php php php$cidFontphp php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_CidFontphp_TrueTypephp(php$fontParserphp,php php$embeddingOptionsphp)php;
php php php php php php php php php php php php php php php php php$fontphp php php php php=php newphp Zendphp_Pdfphp_Resourcephp_Fontphp_Typephp0php(php$cidFontphp)php;
php php php php php php php php php php php php php}
php php php php php php php php php}php catchphp php(Zendphp_Pdfphp_Exceptionphp php$ephp)php php{
php php php php php php php php php php php php php/php*php Thephp followingphp exceptionphp codesphp suggestphp thatphp thisphp isnphp'tphp reallyphp a
php php php php php php php php php php php php php php*php TrueTypephp fontphp.php Ifphp wephp caughtphp suchphp anphp exceptionphp,php simplyphp return
php php php php php php php php php php php php php php*php nullphp.php Forphp allphp otherphp casesphp,php itphp probablyphp isphp aphp TrueTypephp fontphp butphp has
php php php php php php php php php php php php php php*php aphp problemphp;php throwphp thephp exceptionphp againphp.
php php php php php php php php php php php php php php*php/
php php php php php php php php php php php php php$fontParserphp php=php nullphp;
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Pdfphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php switchphp php(php$ephp-php>getCodephp(php)php)php php{
php php php php php php php php php php php php php php php php casephp Zendphp_Pdfphp_Exceptionphp:php:WRONGphp_FONTphp_TYPEphp:php php php php php/php/php breakphp intentionallyphp omitted
php php php php php php php php php php php php php php php php casephp Zendphp_Pdfphp_Exceptionphp:php:BADphp_TABLEphp_COUNTphp:php php php php php/php/php breakphp intentionallyphp omitted
php php php php php php php php php php php php php php php php casephp Zendphp_Pdfphp_Exceptionphp:php:BADphp_MAGICphp_NUMBERphp:
php php php php php php php php php php php php php php php php php php php php returnphp nullphp;

php php php php php php php php php php php php php php php php defaultphp:
php php php php php php php php php php php php php php php php php php php php throwphp newphp Zendphp_Pdfphp_Exceptionphp(php$ephp-php>getMessagephp(php)php,php php$ephp-php>getCodephp(php)php,php php$ephp)php;
php php php php php php php php php php php php php}
php php php php php php php php php}
php php php php php php php php returnphp php$fontphp;
php php php php php}
php}
