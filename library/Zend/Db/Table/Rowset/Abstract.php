<php?php
php/php*php*
php php*php Zendphp Framework
php php*
php php*php LICENSE
php php*
php php*php Thisphp sourcephp filephp isphp subjectphp tophp thephp newphp BSDphp licensephp thatphp isphp bundled
php php*php withphp thisphp packagephp inphp thephp filephp LICENSEphp.txtphp.
php php*php Itphp isphp alsophp availablephp throughphp thephp worldphp-widephp-webphp atphp thisphp URLphp:
php php*php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsd
php php*php Ifphp youphp didphp notphp receivephp aphp copyphp ofphp thephp licensephp andphp arephp unablephp to
php php*php obtainphp itphp throughphp thephp worldphp-widephp-webphp,php pleasephp sendphp anphp email
php php*php tophp licensephp@zendphp.comphp sophp wephp canphp sendphp youphp aphp copyphp immediatelyphp.
php php*
php php*php php@categoryphp php php Zend
php php*php php@packagephp php php php Zendphp_Db
php php*php php@subpackagephp Table
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php php@versionphp php php php php$Idphp:php Abstractphp.phpphp php2php3php4php8php4php php2php0php1php0php-php1php2php-php1php0php php0php3php:php5php7php:php5php9Zphp mjhphp_caphp php$
php php*php/

php/php*php*
php php*php php@categoryphp php php Zend
php php*php php@packagephp php php php Zendphp_Db
php php*php php@subpackagephp Table
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php/
abstractphp classphp Zendphp_Dbphp_Tablephp_Rowsetphp_Abstractphp implementsphp SeekableIteratorphp,php Countablephp,php ArrayAccess
php{
php php php php php/php*php*
php php php php php php*php Thephp originalphp dataphp forphp eachphp rowphp.
php php php php php php*
php php php php php php*php php@varphp array
php php php php php php*php/
php php php php protectedphp php$php_dataphp php=php arrayphp(php)php;

php php php php php/php*php*
php php php php php php*php Zendphp_Dbphp_Tablephp_Abstractphp objectphp.
php php php php php php*
php php php php php php*php php@varphp Zendphp_Dbphp_Tablephp_Abstract
php php php php php php*php/
php php php php protectedphp php$php_tablephp;

php php php php php/php*php*
php php php php php php*php Connectedphp isphp truephp ifphp wephp havephp aphp referencephp tophp aphp live
php php php php php php*php Zendphp_Dbphp_Tablephp_Abstractphp objectphp.
php php php php php php*php Thisphp isphp falsephp afterphp thephp Rowsetphp hasphp beenphp deserializedphp.
php php php php php php*
php php php php php php*php php@varphp boolean
php php php php php php*php/
php php php php protectedphp php$php_connectedphp php=php truephp;

php php php php php/php*php*
php php php php php php*php Zendphp_Dbphp_Tablephp_Abstractphp classphp namephp.
php php php php php php*
php php php php php php*php php@varphp string
php php php php php php*php/
php php php php protectedphp php$php_tableClassphp;

php php php php php/php*php*
php php php php php php*php Zendphp_Dbphp_Tablephp_Rowphp_Abstractphp classphp namephp.
php php php php php php*
php php php php php php*php php@varphp string
php php php php php php*php/
php php php php protectedphp php$php_rowClassphp php=php php'Zendphp_Dbphp_Tablephp_Rowphp'php;

php php php php php/php*php*
php php php php php php*php Iteratorphp pointerphp.
php php php php php php*
php php php php php php*php php@varphp integer
php php php php php php*php/
php php php php protectedphp php$php_pointerphp php=php php0php;

php php php php php/php*php*
php php php php php php*php Howphp manyphp dataphp rowsphp therephp arephp.
php php php php php php*
php php php php php php*php php@varphp integer
php php php php php php*php/
php php php php protectedphp php$php_countphp;

php php php php php/php*php*
php php php php php php*php Collectionphp ofphp instantiatedphp Zendphp_Dbphp_Tablephp_Rowphp objectsphp.
php php php php php php*
php php php php php php*php php@varphp array
php php php php php php*php/
php php php php protectedphp php$php_rowsphp php=php arrayphp(php)php;

php php php php php/php*php*
php php php php php php*php php@varphp boolean
php php php php php php*php/
php php php php protectedphp php$php_storedphp php=php falsephp;

php php php php php/php*php*
php php php php php php*php php@varphp boolean
php php php php php php*php/
php php php php protectedphp php$php_readOnlyphp php=php falsephp;

php php php php php/php*php*
php php php php php php*php Constructorphp.
php php php php php php*
php php php php php php*php php@paramphp arrayphp php$config
php php php php php php*php/
php php php php publicphp functionphp php_php_constructphp(arrayphp php$configphp)
php php php php php{
php php php php php php php php ifphp php(issetphp(php$configphp[php'tablephp'php]php)php)php php{
php php php php php php php php php php php php php$thisphp-php>php_tablephp php php php php php php=php php$configphp[php'tablephp'php]php;
php php php php php php php php php php php php php$thisphp-php>php_tableClassphp php=php getphp_classphp(php$thisphp-php>php_tablephp)php;
php php php php php php php php php}
php php php php php php php php ifphp php(issetphp(php$configphp[php'rowClassphp'php]php)php)php php{
php php php php php php php php php php php php php$thisphp-php>php_rowClassphp php php php=php php$configphp[php'rowClassphp'php]php;
php php php php php php php php php}
php php php php php php php php ifphp php(php!classphp_existsphp(php$thisphp-php>php_rowClassphp)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Loaderphp.phpphp'php;
php php php php php php php php php php php php Zendphp_Loaderphp:php:loadClassphp(php$thisphp-php>php_rowClassphp)php;
php php php php php php php php php}
php php php php php php php php ifphp php(issetphp(php$configphp[php'dataphp'php]php)php)php php{
php php php php php php php php php php php php php$thisphp-php>php_dataphp php php php php php php php=php php$configphp[php'dataphp'php]php;
php php php php php php php php php}
php php php php php php php php ifphp php(issetphp(php$configphp[php'readOnlyphp'php]php)php)php php{
php php php php php php php php php php php php php$thisphp-php>php_readOnlyphp php php php=php php$configphp[php'readOnlyphp'php]php;
php php php php php php php php php}
php php php php php php php php ifphp php(issetphp(php$configphp[php'storedphp'php]php)php)php php{
php php php php php php php php php php php php php$thisphp-php>php_storedphp php php php php php=php php$configphp[php'storedphp'php]php;
php php php php php php php php php}

php php php php php php php php php/php/php setphp thephp countphp ofphp rows
php php php php php php php php php$thisphp-php>php_countphp php=php countphp(php$thisphp-php>php_dataphp)php;

php php php php php php php php php$thisphp-php>initphp(php)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Storephp dataphp,php classphp namesphp,php andphp statephp inphp serializedphp object
php php php php php php*
php php php php php php*php php@returnphp array
php php php php php php*php/
php php php php publicphp functionphp php_php_sleepphp(php)
php php php php php{
php php php php php php php php returnphp arrayphp(php'php_dataphp'php,php php'php_tableClassphp'php,php php'php_rowClassphp'php,php php'php_pointerphp'php,php php'php_countphp'php,php php'php_rowsphp'php,php php'php_storedphp'php,
php php php php php php php php php php php php php php php php php php php php php php'php_readOnlyphp'php)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setupphp tophp dophp onphp wakeupphp.
php php php php php php*php Aphp dephp-serializedphp Rowsetphp shouldphp notphp bephp assumedphp tophp havephp accessphp tophp aphp live
php php php php php php*php databasephp connectionphp,php sophp setphp php_connectedphp php=php falsephp.
php php php php php php*
php php php php php php*php php@returnphp void
php php php php php php*php/
php php php php publicphp functionphp php_php_wakeupphp(php)
php php php php php{
php php php php php php php php php$thisphp-php>php_connectedphp php=php falsephp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Initializephp object
php php php php php php*
php php php php php php*php Calledphp fromphp php{php@linkphp php_php_constructphp(php)php}php asphp finalphp stepphp ofphp objectphp instantiationphp.
php php php php php php*
php php php php php php*php php@returnphp void
php php php php php php*php/
php php php php publicphp functionphp initphp(php)
php php php php php{
php php php php php}

php php php php php/php*php*
php php php php php php*php Returnphp thephp connectedphp statephp ofphp thephp rowsetphp.
php php php php php php*
php php php php php php*php php@returnphp boolean
php php php php php php*php/
php php php php publicphp functionphp isConnectedphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_connectedphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Returnsphp thephp tablephp objectphp,php orphp nullphp ifphp thisphp isphp disconnectedphp rowset
php php php php php php*
php php php php php php*php php@returnphp Zendphp_Dbphp_Tablephp_Abstract
php php php php php php*php/
php php php php publicphp functionphp getTablephp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_tablephp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp thephp tablephp objectphp,php tophp rephp-establishphp aphp livephp connection
php php php php php php*php tophp thephp databasephp forphp aphp Rowsetphp thatphp hasphp beenphp dephp-serializedphp.
php php php php php php*
php php php php php php*php php@paramphp Zendphp_Dbphp_Tablephp_Abstractphp php$table
php php php php php php*php php@returnphp boolean
php php php php php php*php php@throwsphp Zendphp_Dbphp_Tablephp_Rowphp_Exception
php php php php php php*php/
php php php php publicphp functionphp setTablephp(Zendphp_Dbphp_Tablephp_Abstractphp php$tablephp)
php php php php php{
php php php php php php php php php$thisphp-php>php_tablephp php=php php$tablephp;
php php php php php php php php php$thisphp-php>php_connectedphp php=php falsephp;
php php php php php php php php php/php/php php@todophp Thisphp worksphp onlyphp ifphp wephp havephp iteratedphp through
php php php php php php php php php/php/php thephp resultphp setphp oncephp tophp instantiatephp thephp rowsphp.
php php php php php php php php foreachphp php(php$thisphp asphp php$rowphp)php php{
php php php php php php php php php php php php php$connectedphp php=php php$rowphp-php>setTablephp(php$tablephp)php;
php php php php php php php php php php php php ifphp php(php$connectedphp php=php=php truephp)php php{
php php php php php php php php php php php php php php php php php$thisphp-php>php_connectedphp php=php truephp;
php php php php php php php php php php php php php}
php php php php php php php php php}
php php php php php php php php returnphp php$thisphp-php>php_connectedphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Queryphp thephp classphp namephp ofphp thephp Tablephp objectphp forphp whichphp this
php php php php php php*php Rowsetphp wasphp createdphp.
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getTableClassphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_tableClassphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Rewindphp thephp Iteratorphp tophp thephp firstphp elementphp.
php php php php php php*php Similarphp tophp thephp resetphp(php)php functionphp forphp arraysphp inphp PHPphp.
php php php php php php*php Requiredphp byphp interfacephp Iteratorphp.
php php php php php php*
php php php php php php*php php@returnphp Zendphp_Dbphp_Tablephp_Rowsetphp_Abstractphp Fluentphp interfacephp.
php php php php php php*php/
php php php php publicphp functionphp rewindphp(php)
php php php php php{
php php php php php php php php php$thisphp-php>php_pointerphp php=php php0php;
php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Returnphp thephp currentphp elementphp.
php php php php php php*php Similarphp tophp thephp currentphp(php)php functionphp forphp arraysphp inphp PHP
php php php php php php*php Requiredphp byphp interfacephp Iteratorphp.
php php php php php php*
php php php php php php*php php@returnphp Zendphp_Dbphp_Tablephp_Rowphp_Abstractphp currentphp elementphp fromphp thephp collection
php php php php php php*php/
php php php php publicphp functionphp currentphp(php)
php php php php php{
php php php php php php php php ifphp php(php$thisphp-php>validphp(php)php php=php=php=php falsephp)php php{
php php php php php php php php php php php php returnphp nullphp;
php php php php php php php php php}

php php php php php php php php php/php/php returnphp thephp rowphp object
php php php php php php php php returnphp php$thisphp-php>php_loadAndReturnRowphp(php$thisphp-php>php_pointerphp)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Returnphp thephp identifyingphp keyphp ofphp thephp currentphp elementphp.
php php php php php php*php Similarphp tophp thephp keyphp(php)php functionphp forphp arraysphp inphp PHPphp.
php php php php php php*php Requiredphp byphp interfacephp Iteratorphp.
php php php php php php*
php php php php php php*php php@returnphp int
php php php php php php*php/
php php php php publicphp functionphp keyphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_pointerphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Movephp forwardphp tophp nextphp elementphp.
php php php php php php*php Similarphp tophp thephp nextphp(php)php functionphp forphp arraysphp inphp PHPphp.
php php php php php php*php Requiredphp byphp interfacephp Iteratorphp.
php php php php php php*
php php php php php php*php php@returnphp void
php php php php php php*php/
php php php php publicphp functionphp nextphp(php)
php php php php php{
php php php php php php php php php+php+php$thisphp-php>php_pointerphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Checkphp ifphp therephp isphp aphp currentphp elementphp afterphp callsphp tophp rewindphp(php)php orphp nextphp(php)php.
php php php php php php*php Usedphp tophp checkphp ifphp wephp'vephp iteratedphp tophp thephp endphp ofphp thephp collectionphp.
php php php php php php*php Requiredphp byphp interfacephp Iteratorphp.
php php php php php php*
php php php php php php*php php@returnphp boolphp Falsephp ifphp therephp'sphp nothingphp morephp tophp iteratephp over
php php php php php php*php/
php php php php publicphp functionphp validphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_pointerphp php>php=php php0php php&php&php php$thisphp-php>php_pointerphp <php php$thisphp-php>php_countphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Returnsphp thephp numberphp ofphp elementsphp inphp thephp collectionphp.
php php php php php php*
php php php php php php*php Implementsphp Countablephp:php:countphp(php)
php php php php php php*
php php php php php php*php php@returnphp int
php php php php php php*php/
php php php php publicphp functionphp countphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_countphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Takephp thephp Iteratorphp tophp positionphp php$position
php php php php php php*php Requiredphp byphp interfacephp SeekableIteratorphp.
php php php php php php*
php php php php php php*php php@paramphp intphp php$positionphp thephp positionphp tophp seekphp to
php php php php php php*php php@returnphp Zendphp_Dbphp_Tablephp_Rowsetphp_Abstract
php php php php php php*php php@throwsphp Zendphp_Dbphp_Tablephp_Rowsetphp_Exception
php php php php php php*php/
php php php php publicphp functionphp seekphp(php$positionphp)
php php php php php{
php php php php php php php php php$positionphp php=php php(intphp)php php$positionphp;
php php php php php php php php ifphp php(php$positionphp <php php0php php|php|php php$positionphp php>php=php php$thisphp-php>php_countphp)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Dbphp/Tablephp/Rowsetphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Dbphp_Tablephp_Rowsetphp_Exceptionphp(php"Illegalphp indexphp php$positionphp"php)php;
php php php php php php php php php}
php php php php php php php php php$thisphp-php>php_pointerphp php=php php$positionphp;
php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Checkphp ifphp anphp offsetphp exists
php php php php php php*php Requiredphp byphp thephp ArrayAccessphp implementation
php php php php php php*
php php php php php php*php php@paramphp stringphp php$offset
php php php php php php*php php@returnphp boolean
php php php php php php*php/
php php php php publicphp functionphp offsetExistsphp(php$offsetphp)
php php php php php{
php php php php php php php php returnphp issetphp(php$thisphp-php>php_dataphp[php(intphp)php php$offsetphp]php)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp thephp rowphp forphp thephp givenphp offset
php php php php php php*php Requiredphp byphp thephp ArrayAccessphp implementation
php php php php php php*
php php php php php php*php php@paramphp stringphp php$offset
php php php php php php*php php@returnphp Zendphp_Dbphp_Tablephp_Rowphp_Abstract
php php php php php php*php/
php php php php publicphp functionphp offsetGetphp(php$offsetphp)
php php php php php{
php php php php php php php php php$offsetphp php=php php(intphp)php php$offsetphp;
php php php php php php php php ifphp php(php$offsetphp <php php0php php|php|php php$offsetphp php>php=php php$thisphp-php>php_countphp)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Dbphp/Tablephp/Rowsetphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Dbphp_Tablephp_Rowsetphp_Exceptionphp(php"Illegalphp indexphp php$offsetphp"php)php;
php php php php php php php php php}
php php php php php php php php php$thisphp-php>php_pointerphp php=php php$offsetphp;

php php php php php php php php returnphp php$thisphp-php>currentphp(php)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Doesphp nothing
php php php php php php*php Requiredphp byphp thephp ArrayAccessphp implementation
php php php php php php*
php php php php php php*php php@paramphp stringphp php$offset
php php php php php php*php php@paramphp mixedphp php$value
php php php php php php*php/
php php php php publicphp functionphp offsetSetphp(php$offsetphp,php php$valuephp)
php php php php php{
php php php php php}

php php php php php/php*php*
php php php php php php*php Doesphp nothing
php php php php php php*php Requiredphp byphp thephp ArrayAccessphp implementation
php php php php php php*
php php php php php php*php php@paramphp stringphp php$offset
php php php php php php*php/
php php php php publicphp functionphp offsetUnsetphp(php$offsetphp)
php php php php php{
php php php php php}

php php php php php/php*php*
php php php php php php*php Returnsphp aphp Zendphp_Dbphp_Tablephp_Rowphp fromphp aphp knownphp positionphp intophp thephp Iterator
php php php php php php*
php php php php php php*php php@paramphp intphp php$positionphp thephp positionphp ofphp thephp rowphp expected
php php php php php php*php php@paramphp boolphp php$seekphp wetherphp orphp notphp seekphp thephp iteratorphp tophp thatphp positionphp after
php php php php php php*php php@returnphp Zendphp_Dbphp_Tablephp_Row
php php php php php php*php php@throwsphp Zendphp_Dbphp_Tablephp_Rowsetphp_Exception
php php php php php php*php/
php php php php publicphp functionphp getRowphp(php$positionphp,php php$seekphp php=php falsephp)
php php php php php{
php php php php php php php php tryphp php{
php php php php php php php php php php php php php$rowphp php=php php$thisphp-php>php_loadAndReturnRowphp(php$positionphp)php;
php php php php php php php php php}php catchphp php(Zendphp_Dbphp_Tablephp_Rowsetphp_Exceptionphp php$ephp)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Dbphp/Tablephp/Rowsetphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Dbphp_Tablephp_Rowsetphp_Exceptionphp(php'Nophp rowphp couldphp bephp foundphp atphp positionphp php'php php.php php(intphp)php php$positionphp,php php0php,php php$ephp)php;
php php php php php php php php php}

php php php php php php php php ifphp php(php$seekphp php=php=php truephp)php php{
php php php php php php php php php php php php php$thisphp-php>seekphp(php$positionphp)php;
php php php php php php php php php}

php php php php php php php php returnphp php$rowphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Returnsphp allphp dataphp asphp anphp arrayphp.
php php php php php php*
php php php php php php*php Updatesphp thephp php$php_dataphp propertyphp withphp currentphp rowphp objectphp valuesphp.
php php php php php php*
php php php php php php*php php@returnphp array
php php php php php php*php/
php php php php publicphp functionphp toArrayphp(php)
php php php php php{
php php php php php php php php php/php/php php@todophp Thisphp worksphp onlyphp ifphp wephp havephp iteratedphp through
php php php php php php php php php/php/php thephp resultphp setphp oncephp tophp instantiatephp thephp rowsphp.
php php php php php php php php foreachphp php(php$thisphp-php>php_rowsphp asphp php$iphp php=php>php php$rowphp)php php{
php php php php php php php php php php php php php$thisphp-php>php_dataphp[php$iphp]php php=php php$rowphp-php>toArrayphp(php)php;
php php php php php php php php php}
php php php php php php php php returnphp php$thisphp-php>php_dataphp;
php php php php php}

php php php php protectedphp functionphp php_loadAndReturnRowphp(php$positionphp)
php php php php php{
php php php php php php php php ifphp php(php!issetphp(php$thisphp-php>php_dataphp[php$positionphp]php)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Dbphp/Tablephp/Rowsetphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Dbphp_Tablephp_Rowsetphp_Exceptionphp(php"Dataphp forphp providedphp positionphp doesphp notphp existphp"php)php;
php php php php php php php php php}

php php php php php php php php php/php/php dophp wephp alreadyphp havephp aphp rowphp objectphp forphp thisphp positionphp?
php php php php php php php php ifphp php(emptyphp(php$thisphp-php>php_rowsphp[php$positionphp]php)php)php php{
php php php php php php php php php php php php php$thisphp-php>php_rowsphp[php$positionphp]php php=php newphp php$thisphp-php>php_rowClassphp(
php php php php php php php php php php php php php php php php arrayphp(
php php php php php php php php php php php php php php php php php php php php php'tablephp'php php php php php=php>php php$thisphp-php>php_tablephp,
php php php php php php php php php php php php php php php php php php php php php'dataphp'php php php php php php=php>php php$thisphp-php>php_dataphp[php$positionphp]php,
php php php php php php php php php php php php php php php php php php php php php'storedphp'php php php php=php>php php$thisphp-php>php_storedphp,
php php php php php php php php php php php php php php php php php php php php php'readOnlyphp'php php=php>php php$thisphp-php>php_readOnly
php php php php php php php php php php php php php php php php php)
php php php php php php php php php php php php php)php;
php php php php php php php php php}

php php php php php php php php php/php/php returnphp thephp rowphp object
php php php php php php php php returnphp php$thisphp-php>php_rowsphp[php$positionphp]php;
php php php php php}

php}
