<php?php
php/php*php*
php php*php Zendphp Framework
php php*
php php*php LICENSE
php php*
php php*php Thisphp sourcephp filephp isphp subjectphp tophp thephp newphp BSDphp licensephp thatphp isphp bundled
php php*php withphp thisphp packagephp inphp thephp filephp LICENSEphp.txtphp.
php php*php Itphp isphp alsophp availablephp throughphp thephp worldphp-widephp-webphp atphp thisphp URLphp:
php php*php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsd
php php*php Ifphp youphp didphp notphp receivephp aphp copyphp ofphp thephp licensephp andphp arephp unablephp to
php php*php obtainphp itphp throughphp thephp worldphp-widephp-webphp,php pleasephp sendphp anphp email
php php*php tophp licensephp@zendphp.comphp sophp wephp canphp sendphp youphp aphp copyphp immediatelyphp.
php php*
php php*php php@categoryphp php php Zend
php php*php php@packagephp php php php Zendphp_Locale
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php php@versionphp php php php php$Idphp:php Pluralphp.phpphp php2php2php5php1php8php php2php0php1php0php-php0php7php-php0php4php php1php1php:php0php5php:php1php0Zphp thomasphp php$
php php*php/

php/php*php*
php php*php Utilityphp classphp forphp returningphp thephp pluralphp rulesphp accordingphp tophp thephp givenphp locale
php php*
php php*php php@categoryphp php php Zend
php php*php php@packagephp php php php Zendphp_Locale
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php/
classphp Zendphp_Translatephp_Plural
php{
php php php php php/php*php*
php php php php php php*php Manualphp rulephp tophp use
php php php php php php*
php php php php php php*php php@varphp string
php php php php php php*php/
php php php php protectedphp staticphp php$php_pluralphp php=php arrayphp(php)php;

php php php php php/php*php*
php php php php php php*php Returnsphp thephp pluralphp definitionphp tophp use
php php php php php php*
php php php php php php*php php@paramphp php integerphp php$numberphp Numberphp forphp pluralphp selection
php php php php php php*php php@paramphp php stringphp php php$localephp Localephp tophp use
php php php php php php*php php@returnphp integerphp Pluralphp numberphp tophp use
php php php php php php*php/
php php php php publicphp staticphp functionphp getPluralphp(php$numberphp,php php$localephp)
php php php php php{
php php php php php php php php ifphp php(php$localephp php=php=php php"ptphp_BRphp"php)php php{
php php php php php php php php php php php php php/php/php temporaryphp setphp aphp localephp forphp brasilian
php php php php php php php php php php php php php$localephp php=php php"xbrphp"php;
php php php php php php php php php}

php php php php php php php php ifphp php(strlenphp(php$localephp)php php>php php3php)php php{
php php php php php php php php php php php php php$localephp php=php substrphp(php$localephp,php php0php,php php-strlenphp(strrchrphp(php$localephp,php php'php_php'php)php)php)php;
php php php php php php php php php}

php php php php php php php php ifphp php(issetphp(selfphp:php:php$php_pluralphp[php$localephp]php)php)php php{
php php php php php php php php php php php php php$returnphp php=php callphp_userphp_funcphp(selfphp:php:php$php_pluralphp[php$localephp]php,php php$numberphp)php;

php php php php php php php php php php php php ifphp php(php!isphp_intphp(php$returnphp)php php|php|php php(php$returnphp <php php0php)php)php php{
php php php php php php php php php php php php php php php php php$returnphp php=php php0php;
php php php php php php php php php php php php php}

php php php php php php php php php php php php returnphp php$returnphp;
php php php php php php php php php}

php php php php php php php php switchphp(php$localephp)php php{
php php php php php php php php php php php php casephp php'bophp'php:
php php php php php php php php php php php php casephp php'dzphp'php:
php php php php php php php php php php php php casephp php'idphp'php:
php php php php php php php php php php php php casephp php'japhp'php:
php php php php php php php php php php php php casephp php'jvphp'php:
php php php php php php php php php php php php casephp php'kaphp'php:
php php php php php php php php php php php php casephp php'kmphp'php:
php php php php php php php php php php php php casephp php'knphp'php:
php php php php php php php php php php php php casephp php'kophp'php:
php php php php php php php php php php php php casephp php'msphp'php:
php php php php php php php php php php php php casephp php'thphp'php:
php php php php php php php php php php php php casephp php'trphp'php:
php php php php php php php php php php php php casephp php'viphp'php:
php php php php php php php php php php php php casephp php'zhphp'php:
php php php php php php php php php php php php php php php php returnphp php0php;
php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php casephp php'afphp'php:
php php php php php php php php php php php php casephp php'azphp'php:
php php php php php php php php php php php php casephp php'bnphp'php:
php php php php php php php php php php php php casephp php'bgphp'php:
php php php php php php php php php php php php casephp php'caphp'php:
php php php php php php php php php php php php casephp php'daphp'php:
php php php php php php php php php php php php casephp php'dephp'php:
php php php php php php php php php php php php casephp php'elphp'php:
php php php php php php php php php php php php casephp php'enphp'php:
php php php php php php php php php php php php casephp php'eophp'php:
php php php php php php php php php php php php casephp php'esphp'php:
php php php php php php php php php php php php casephp php'etphp'php:
php php php php php php php php php php php php casephp php'euphp'php:
php php php php php php php php php php php php casephp php'faphp'php:
php php php php php php php php php php php php casephp php'fiphp'php:
php php php php php php php php php php php php casephp php'fophp'php:
php php php php php php php php php php php php casephp php'furphp'php:
php php php php php php php php php php php php casephp php'fyphp'php:
php php php php php php php php php php php php casephp php'glphp'php:
php php php php php php php php php php php php casephp php'guphp'php:
php php php php php php php php php php php php casephp php'haphp'php:
php php php php php php php php php php php php casephp php'hephp'php:
php php php php php php php php php php php php casephp php'huphp'php:
php php php php php php php php php php php php casephp php'isphp'php:
php php php php php php php php php php php php casephp php'itphp'php:
php php php php php php php php php php php php casephp php'kuphp'php:
php php php php php php php php php php php php casephp php'lbphp'php:
php php php php php php php php php php php php casephp php'mlphp'php:
php php php php php php php php php php php php casephp php'mnphp'php:
php php php php php php php php php php php php casephp php'mrphp'php:
php php php php php php php php php php php php casephp php'nahphp'php:
php php php php php php php php php php php php casephp php'nbphp'php:
php php php php php php php php php php php php casephp php'nephp'php:
php php php php php php php php php php php php casephp php'nlphp'php:
php php php php php php php php php php php php casephp php'nnphp'php:
php php php php php php php php php php php php casephp php'nophp'php:
php php php php php php php php php php php php casephp php'omphp'php:
php php php php php php php php php php php php casephp php'orphp'php:
php php php php php php php php php php php php casephp php'paphp'php:
php php php php php php php php php php php php casephp php'papphp'php:
php php php php php php php php php php php php casephp php'psphp'php:
php php php php php php php php php php php php casephp php'ptphp'php:
php php php php php php php php php php php php casephp php'sophp'php:
php php php php php php php php php php php php casephp php'sqphp'php:
php php php php php php php php php php php php casephp php'svphp'php:
php php php php php php php php php php php php casephp php'swphp'php:
php php php php php php php php php php php php casephp php'taphp'php:
php php php php php php php php php php php php casephp php'tephp'php:
php php php php php php php php php php php php casephp php'tkphp'php:
php php php php php php php php php php php php casephp php'urphp'php:
php php php php php php php php php php php php casephp php'zuphp'php:
php php php php php php php php php php php php php php php php returnphp php(php$numberphp php=php=php php1php)php php?php php0php php:php php1php;

php php php php php php php php php php php php casephp php'amphp'php:
php php php php php php php php php php php php casephp php'bhphp'php:
php php php php php php php php php php php php casephp php'filphp'php:
php php php php php php php php php php php php casephp php'frphp'php:
php php php php php php php php php php php php casephp php'gunphp'php:
php php php php php php php php php php php php casephp php'hiphp'php:
php php php php php php php php php php php php casephp php'lnphp'php:
php php php php php php php php php php php php casephp php'mgphp'php:
php php php php php php php php php php php php casephp php'nsophp'php:
php php php php php php php php php php php php casephp php'xbrphp'php:
php php php php php php php php php php php php casephp php'tiphp'php:
php php php php php php php php php php php php casephp php'waphp'php:
php php php php php php php php php php php php php php php php returnphp php(php(php$numberphp php=php=php php0php)php php|php|php php(php$numberphp php=php=php php1php)php)php php?php php0php php:php php1php;

php php php php php php php php php php php php casephp php'bephp'php:
php php php php php php php php php php php php casephp php'bsphp'php:
php php php php php php php php php php php php casephp php'hrphp'php:
php php php php php php php php php php php php casephp php'ruphp'php:
php php php php php php php php php php php php casephp php'srphp'php:
php php php php php php php php php php php php casephp php'ukphp'php:
php php php php php php php php php php php php php php php php returnphp php(php(php$numberphp php%php php1php0php php=php=php php1php)php php&php&php php(php$numberphp php%php php1php0php0php php!php=php php1php1php)php)php php?php php0php php:php php(php(php(php$numberphp php%php php1php0php php>php=php php2php)php php&php&php php(php$numberphp php%php php1php0php <php=php php4php)php php&php&php php(php(php$numberphp php%php php1php0php0php <php php1php0php)php php|php|php php(php$numberphp php%php php1php0php0php php>php=php php2php0php)php)php)php php?php php1php php:php php2php)php;

php php php php php php php php php php php php casephp php'csphp'php:
php php php php php php php php php php php php casephp php'skphp'php:
php php php php php php php php php php php php php php php php returnphp php(php$numberphp php=php=php php1php)php php?php php0php php:php php(php(php(php$numberphp php>php=php php2php)php php&php&php php(php$numberphp <php=php php4php)php)php php?php php1php php:php php2php)php;

php php php php php php php php php php php php casephp php'gaphp'php:
php php php php php php php php php php php php php php php php returnphp php(php$numberphp php=php=php php1php)php php?php php0php php:php php(php(php$numberphp php=php=php php2php)php php?php php1php php:php php2php)php;

php php php php php php php php php php php php casephp php'ltphp'php:
php php php php php php php php php php php php php php php php returnphp php(php(php$numberphp php%php php1php0php php=php=php php1php)php php&php&php php(php$numberphp php%php php1php0php0php php!php=php php1php1php)php)php php?php php0php php:php php(php(php(php$numberphp php%php php1php0php php>php=php php2php)php php&php&php php(php(php$numberphp php%php php1php0php0php <php php1php0php)php php|php|php php(php$numberphp php%php php1php0php0php php>php=php php2php0php)php)php)php php?php php1php php:php php2php)php;

php php php php php php php php php php php php casephp php'slphp'php:
php php php php php php php php php php php php php php php php returnphp php(php$numberphp php%php php1php0php0php php=php=php php1php)php php?php php0php php:php php(php(php$numberphp php%php php1php0php0php php=php=php php2php)php php?php php1php php:php php(php(php(php$numberphp php%php php1php0php0php php=php=php php3php)php php|php|php php(php$numberphp php%php php1php0php0php php=php=php php4php)php)php php?php php2php php:php php3php)php)php;

php php php php php php php php php php php php casephp php'mkphp'php:
php php php php php php php php php php php php php php php php returnphp php(php$numberphp php%php php1php0php php=php=php php1php)php php?php php0php php:php php1php;

php php php php php php php php php php php php casephp php'mtphp'php:
php php php php php php php php php php php php php php php php returnphp php(php$numberphp php=php=php php1php)php php?php php0php php:php php(php(php(php$numberphp php=php=php php0php)php php|php|php php(php(php$numberphp php%php php1php0php0php php>php php1php)php php&php&php php(php$numberphp php%php php1php0php0php <php php1php1php)php)php)php php?php php1php php:php php(php(php(php$numberphp php%php php1php0php0php php>php php1php0php)php php&php&php php(php$numberphp php%php php1php0php0php <php php2php0php)php)php php?php php2php php:php php3php)php)php;

php php php php php php php php php php php php casephp php'lvphp'php:
php php php php php php php php php php php php php php php php returnphp php(php$numberphp php=php=php php0php)php php?php php0php php:php php(php(php(php$numberphp php%php php1php0php php=php=php php1php)php php&php&php php(php$numberphp php%php php1php0php0php php!php=php php1php1php)php)php php?php php1php php:php php2php)php;

php php php php php php php php php php php php casephp php'plphp'php:
php php php php php php php php php php php php php php php php returnphp php(php$numberphp php=php=php php1php)php php?php php0php php:php php(php(php(php$numberphp php%php php1php0php php>php=php php2php)php php&php&php php(php$numberphp php%php php1php0php <php=php php4php)php php&php&php php(php(php$numberphp php%php php1php0php0php <php php1php2php)php php|php|php php(php$numberphp php%php php1php0php0php php>php php1php4php)php)php)php php?php php1php php:php php2php)php;

php php php php php php php php php php php php casephp php'cyphp'php:
php php php php php php php php php php php php php php php php returnphp php(php$numberphp php=php=php php1php)php php?php php0php php:php php(php(php$numberphp php=php=php php2php)php php?php php1php php:php php(php(php(php$numberphp php=php=php php8php)php php|php|php php(php$numberphp php=php=php php1php1php)php)php php?php php2php php:php php3php)php)php;

php php php php php php php php php php php php casephp php'rophp'php:
php php php php php php php php php php php php php php php php returnphp php(php$numberphp php=php=php php1php)php php?php php0php php:php php(php(php(php$numberphp php=php=php php0php)php php|php|php php(php(php$numberphp php%php php1php0php0php php>php php0php)php php&php&php php(php$numberphp php%php php1php0php0php <php php2php0php)php)php)php php?php php1php php:php php2php)php;

php php php php php php php php php php php php casephp php'arphp'php:
php php php php php php php php php php php php php php php php returnphp php(php$numberphp php=php=php php0php)php php?php php0php php:php php(php(php$numberphp php=php=php php1php)php php?php php1php php:php php(php(php$numberphp php=php=php php2php)php php?php php2php php:php php(php(php(php$numberphp php>php=php php3php)php php&php&php php(php$numberphp <php=php php1php0php)php)php php?php php3php php:php php(php(php(php$numberphp php>php=php php1php1php)php php&php&php php(php$numberphp <php=php php9php9php)php)php php?php php4php php:php php5php)php)php)php)php;

php php php php php php php php php php php php defaultphp:
php php php php php php php php php php php php php php php php returnphp php0php;
php php php php php php php php php}
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp'sphp aphp newphp pluralphp rule
php php php php php php*
php php php php php php*php php@paramphp stringphp php$rulephp php php Callbackphp whichphp actsphp asphp rule
php php php php php php*php php@paramphp stringphp php$localephp Localephp whichphp isphp usedphp forphp thisphp callback
php php php php php php*php php@returnphp null
php php php php php php*php/
php php php php publicphp staticphp functionphp setPluralphp(php$rulephp,php php$localephp)
php php php php php{
php php php php php php php php ifphp php(php$localephp php=php=php php"ptphp_BRphp"php)php php{
php php php php php php php php php php php php php/php/php temporaryphp setphp aphp localephp forphp brasilian
php php php php php php php php php php php php php$localephp php=php php"xbrphp"php;
php php php php php php php php php}

php php php php php php php php ifphp php(strlenphp(php$localephp)php php>php php3php)php php{
php php php php php php php php php php php php php$localephp php=php substrphp(php$localephp,php php0php,php php-strlenphp(strrchrphp(php$localephp,php php'php_php'php)php)php)php;
php php php php php php php php php}

php php php php php php php php ifphp php(php!isphp_callablephp(php$rulephp)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Translatephp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Translatephp_Exceptionphp(php'Thephp givenphp rulephp canphp notphp bephp calledphp'php)php;
php php php php php php php php php}

php php php php php php php php selfphp:php:php$php_pluralphp[php$localephp]php php=php php$rulephp;
php php php php php}
php}
