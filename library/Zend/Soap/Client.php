<php?php
php/php*php*
php php*php Zendphp Framework
php php*
php php*php LICENSE
php php*
php php*php Thisphp sourcephp filephp isphp subjectphp tophp thephp newphp BSDphp licensephp thatphp isphp bundled
php php*php withphp thisphp packagephp inphp thephp filephp LICENSEphp.txtphp.
php php*php Itphp isphp alsophp availablephp throughphp thephp worldphp-widephp-webphp atphp thisphp URLphp:
php php*php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsd
php php*php Ifphp youphp didphp notphp receivephp aphp copyphp ofphp thephp licensephp andphp arephp unablephp to
php php*php obtainphp itphp throughphp thephp worldphp-widephp-webphp,php pleasephp sendphp anphp email
php php*php tophp licensephp@zendphp.comphp sophp wephp canphp sendphp youphp aphp copyphp immediatelyphp.
php php*
php php*php php@categoryphp php php Zend
php php*php php@packagephp php php php Zendphp_Soap
php php*php php@subpackagephp Client
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php php@versionphp php php php php$Idphp:php Clientphp.phpphp php2php3php4php5php3php php2php0php1php0php-php1php1php-php2php8php php1php3php:php5php6php:php1php4Zphp ramonphp php$
php php*php/

php/php*php*
php php*php php@seephp Zendphp_Soapphp_Server
php php*php/
requirephp_oncephp php'Zendphp/Soapphp/Serverphp.phpphp'php;

php/php*php*
php php*php php@seephp Zendphp_Soapphp_Clientphp_Local
php php*php/
requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Localphp.phpphp'php;

php/php*php*
php php*php php@seephp Zendphp_Soapphp_Clientphp_Common
php php*php/
requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Commonphp.phpphp'php;

php/php*php*
php php*php Zendphp_Soapphp_Client
php php*
php php*php php@categoryphp php php Zend
php php*php php@packagephp php php php Zendphp_Soap
php php*php php@subpackagephp Client
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php/
classphp Zendphp_Soapphp_Client
php{
php php php php php/php*php*
php php php php php php*php Encoding
php php php php php php*php php@varphp string
php php php php php php*php/
php php php php protectedphp php$php_encodingphp php=php php'UTFphp-php8php'php;

php php php php php/php*php*
php php php php php php*php Arrayphp ofphp SOAPphp typephp php=php>php PHPphp classphp pairingsphp forphp handlingphp returnphp/incomingphp values
php php php php php php*php php@varphp array
php php php php php php*php/
php php php php protectedphp php$php_classmapphp php=php nullphp;

php php php php php/php*php*
php php php php php php*php Registeredphp faultphp exceptions
php php php php php php*php php@varphp array
php php php php php php*php/
php php php php protectedphp php$php_faultExceptionsphp php=php arrayphp(php)php;

php php php php php/php*php*
php php php php php php*php SOAPphp versionphp tophp usephp;php SOAPphp_php1php_php2php byphp defaultphp,php tophp allowphp processingphp ofphp headers
php php php php php php*php php@varphp int
php php php php php php*php/
php php php php protectedphp php$php_soapVersionphp php=php SOAPphp_php1php_php2php;

php php php php php/php*php*php Setphp ofphp otherphp SoapClientphp optionsphp php*php/
php php php php protectedphp php$php_uriphp php php php php php php php php php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_locationphp php php php php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_stylephp php php php php php php php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_usephp php php php php php php php php php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_loginphp php php php php php php php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_passwordphp php php php php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_proxyphp_hostphp php php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_proxyphp_portphp php php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_proxyphp_loginphp php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_proxyphp_passwordphp php php php php php php=php nullphp;
php php php php protectedphp php$php_localphp_certphp php php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_passphrasephp php php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_compressionphp php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_connectionphp_timeoutphp php php=php nullphp;
php php php php protectedphp php$php_streamphp_contextphp php php php php php php=php nullphp;
php php php php protectedphp php$php_featuresphp php php php php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_cachephp_wsdlphp php php php php php php php php php php=php nullphp;
php php php php protectedphp php$php_userphp_agentphp php php php php php php php php php php=php nullphp;

php php php php php/php*php*
php php php php php php*php WSDLphp usedphp tophp accessphp server
php php php php php php*php Itphp alsophp definesphp Zendphp_Soapphp_Clientphp workingphp modephp php(WSDLphp vsphp nonphp-WSDLphp)
php php php php php php*
php php php php php php*php php@varphp string
php php php php php php*php/
php php php php protectedphp php$php_wsdlphp php=php nullphp;

php php php php php/php*php*
php php php php php php*php SoapClientphp object
php php php php php php*
php php php php php php*php php@varphp SoapClient
php php php php php php*php/
php php php php protectedphp php$php_soapClientphp;

php php php php php/php*php*
php php php php php php*php Lastphp invokedphp method
php php php php php php*
php php php php php php*php php@varphp string
php php php php php php*php/
php php php php protectedphp php$php_lastMethodphp php=php php'php'php;

php php php php php/php*php*
php php php php php php*php SOAPphp requestphp headersphp.
php php php php php php*
php php php php php php*php Arrayphp ofphp SoapHeaderphp objects
php php php php php php*
php php php php php php*php php@varphp array
php php php php php php*php/
php php php php protectedphp php$php_soapInputHeadersphp php=php arrayphp(php)php;

php php php php php/php*php*
php php php php php php*php Permanentphp SOAPphp requestphp headersphp php(sharedphp betweenphp requestsphp)php.
php php php php php php*
php php php php php php*php Arrayphp ofphp SoapHeaderphp objects
php php php php php php*
php php php php php php*php php@varphp array
php php php php php php*php/
php php php php protectedphp php$php_permanentSoapInputHeadersphp php=php arrayphp(php)php;

php php php php php/php*php*
php php php php php php*php Outputphp SOAPphp headersphp.
php php php php php php*
php php php php php php*php Arrayphp ofphp SoapHeaderphp objects
php php php php php php*
php php php php php php*php php@varphp array
php php php php php php*php/
php php php php protectedphp php$php_soapOutputHeadersphp php=php arrayphp(php)php;

php php php php php/php*php*
php php php php php php*php Constructor
php php php php php php*
php php php php php php*php php@paramphp stringphp php$wsdl
php php php php php php*php php@paramphp arrayphp php$options
php php php php php php*php/
php php php php publicphp functionphp php_php_constructphp(php$wsdlphp php=php nullphp,php php$optionsphp php=php nullphp)
php php php php php{
php php php php php php php php ifphp php(php!extensionphp_loadedphp(php'soapphp'php)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'SOAPphp extensionphp isphp notphp loadedphp.php'php)php;
php php php php php php php php php}

php php php php php php php php ifphp php(php$wsdlphp php!php=php=php nullphp)php php{
php php php php php php php php php php php php php$thisphp-php>setWsdlphp(php$wsdlphp)php;
php php php php php php php php php}
php php php php php php php php ifphp php(php$optionsphp php!php=php=php nullphp)php php{
php php php php php php php php php php php php php$thisphp-php>setOptionsphp(php$optionsphp)php;
php php php php php php php php php}
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp wsdl
php php php php php php*
php php php php php php*php php@paramphp stringphp php$wsdl
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setWsdlphp(php$wsdlphp)
php php php php php{
php php php php php php php php php$thisphp-php>php_wsdlphp php=php php$wsdlphp;
php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp wsdl
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getWsdlphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_wsdlphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp Options
php php php php php php*
php php php php php php*php Allowsphp settingphp optionsphp asphp anphp associativephp arrayphp ofphp optionphp php=php>php valuephp pairsphp.
php php php php php php*
php php php php php php*php php@paramphp php arrayphp|Zendphp_Configphp php$options
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php php@throwsphp Zendphp_SoapClientphp_Exception
php php php php php php*php/
php php php php publicphp functionphp setOptionsphp(php$optionsphp)
php php php php php{
php php php php php php php php ifphp(php$optionsphp instanceofphp Zendphp_Configphp)php php{
php php php php php php php php php php php php php$optionsphp php=php php$optionsphp-php>toArrayphp(php)php;
php php php php php php php php php}

php php php php php php php php foreachphp php(php$optionsphp asphp php$keyphp php=php>php php$valuephp)php php{
php php php php php php php php php php php php switchphp php(php$keyphp)php php{
php php php php php php php php php php php php php php php php casephp php'classmapphp'php:
php php php php php php php php php php php php php php php php casephp php'classMapphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setClassmapphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'encodingphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setEncodingphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'soapVersionphp'php:
php php php php php php php php php php php php php php php php casephp php'soapphp_versionphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setSoapVersionphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'wsdlphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setWsdlphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'uriphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setUriphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'locationphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setLocationphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'stylephp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setStylephp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'usephp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setEncodingMethodphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'loginphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setHttpLoginphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'passwordphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setHttpPasswordphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'proxyphp_hostphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setProxyHostphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'proxyphp_portphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setProxyPortphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'proxyphp_loginphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setProxyLoginphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'proxyphp_passwordphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setProxyPasswordphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'localphp_certphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setHttpsCertificatephp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'passphrasephp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setHttpsCertPassphrasephp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'compressionphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setCompressionOptionsphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'streamphp_contextphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setStreamContextphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'featuresphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setSoapFeaturesphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'cachephp_wsdlphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setWsdlCachephp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp php'useragentphp'php:
php php php php php php php php php php php php php php php php casephp php'userAgentphp'php:
php php php php php php php php php php php php php php php php casephp php'userphp_agentphp'php:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setUserAgentphp(php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;

php php php php php php php php php php php php php php php php php/php/php Notphp usedphp now
php php php php php php php php php php php php php php php php php/php/php casephp php'connectionphp_timeoutphp'php:
php php php php php php php php php php php php php php php php php/php/php php php php php php$thisphp-php>php_connectionphp_timeoutphp php=php php$valuephp;
php php php php php php php php php php php php php php php php php/php/php php php php breakphp;

php php php php php php php php php php php php php php php php defaultphp:
php php php php php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'Unknownphp SOAPphp clientphp optionphp'php)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php}
php php php php php php php php php}

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Returnphp arrayphp ofphp optionsphp suitablephp forphp usingphp withphp SoapClientphp constructor
php php php php php php*
php php php php php php*php php@returnphp array
php php php php php php*php/
php php php php publicphp functionphp getOptionsphp(php)
php php php php php{
php php php php php php php php php$optionsphp php=php arrayphp(php)php;

php php php php php php php php php$optionsphp[php'classmapphp'php]php php php php php php php php=php php$thisphp-php>getClassmapphp(php)php;
php php php php php php php php php$optionsphp[php'encodingphp'php]php php php php php php php php=php php$thisphp-php>getEncodingphp(php)php;
php php php php php php php php php$optionsphp[php'soapphp_versionphp'php]php php php php=php php$thisphp-php>getSoapVersionphp(php)php;
php php php php php php php php php$optionsphp[php'wsdlphp'php]php php php php php php php php php php php php=php php$thisphp-php>getWsdlphp(php)php;
php php php php php php php php php$optionsphp[php'uriphp'php]php php php php php php php php php php php php php=php php$thisphp-php>getUriphp(php)php;
php php php php php php php php php$optionsphp[php'locationphp'php]php php php php php php php php=php php$thisphp-php>getLocationphp(php)php;
php php php php php php php php php$optionsphp[php'stylephp'php]php php php php php php php php php php php=php php$thisphp-php>getStylephp(php)php;
php php php php php php php php php$optionsphp[php'usephp'php]php php php php php php php php php php php php php=php php$thisphp-php>getEncodingMethodphp(php)php;
php php php php php php php php php$optionsphp[php'loginphp'php]php php php php php php php php php php php=php php$thisphp-php>getHttpLoginphp(php)php;
php php php php php php php php php$optionsphp[php'passwordphp'php]php php php php php php php php=php php$thisphp-php>getHttpPasswordphp(php)php;
php php php php php php php php php$optionsphp[php'proxyphp_hostphp'php]php php php php php php=php php$thisphp-php>getProxyHostphp(php)php;
php php php php php php php php php$optionsphp[php'proxyphp_portphp'php]php php php php php php=php php$thisphp-php>getProxyPortphp(php)php;
php php php php php php php php php$optionsphp[php'proxyphp_loginphp'php]php php php php php=php php$thisphp-php>getProxyLoginphp(php)php;
php php php php php php php php php$optionsphp[php'proxyphp_passwordphp'php]php php=php php$thisphp-php>getProxyPasswordphp(php)php;
php php php php php php php php php$optionsphp[php'localphp_certphp'php]php php php php php php=php php$thisphp-php>getHttpsCertificatephp(php)php;
php php php php php php php php php$optionsphp[php'passphrasephp'php]php php php php php php=php php$thisphp-php>getHttpsCertPassphrasephp(php)php;
php php php php php php php php php$optionsphp[php'compressionphp'php]php php php php php=php php$thisphp-php>getCompressionOptionsphp(php)php;
php php php php php php php php php/php/php$optionsphp[php'connectionphp_timeoutphp'php]php php=php php$thisphp-php>php_connectionphp_timeoutphp;
php php php php php php php php php$optionsphp[php'streamphp_contextphp'php]php php=php php$thisphp-php>getStreamContextphp(php)php;
php php php php php php php php php$optionsphp[php'cachephp_wsdlphp'php]php php php php php php=php php$thisphp-php>getWsdlCachephp(php)php;
php php php php php php php php php$optionsphp[php'featuresphp'php]php php php php php php php php=php php$thisphp-php>getSoapFeaturesphp(php)php;
php php php php php php php php php$optionsphp[php'userphp_agentphp'php]php php php php php php=php php$thisphp-php>getUserAgentphp(php)php;

php php php php php php php php foreachphp php(php$optionsphp asphp php$keyphp php=php>php php$valuephp)php php{
php php php php php php php php php php php php php/php*
php php php php php php php php php php php php php php*php uglyphp hackphp asphp Iphp donphp'tphp knowphp ifphp checkingphp forphp php'php=php=php=php nullphp'
php php php php php php php php php php php php php php*php breaksphp somephp otherphp option
php php php php php php php php php php php php php php*php/
php php php php php php php php php php php php ifphp php(inphp_arrayphp(php$keyphp,php arrayphp(php'userphp_agentphp'php,php php'cachephp_wsdlphp'php,php php'compressionphp'php)php)php)php php{
php php php php php php php php php php php php php php php php ifphp php(php$valuephp php=php=php=php nullphp)php php{
php php php php php php php php php php php php php php php php php php php php unsetphp(php$optionsphp[php$keyphp]php)php;
php php php php php php php php php php php php php php php php php}
php php php php php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php php php php ifphp php(php$valuephp php=php=php nullphp)php php{
php php php php php php php php php php php php php php php php php php php php unsetphp(php$optionsphp[php$keyphp]php)php;
php php php php php php php php php php php php php php php php php}
php php php php php php php php php php php php php}
php php php php php php php php php}

php php php php php php php php returnphp php$optionsphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp SOAPphp version
php php php php php php*
php php php php php php*php php@paramphp php intphp php$versionphp Onephp ofphp thephp SOAPphp_php1php_php1php orphp SOAPphp_php1php_php2php constants
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php php@throwsphp Zendphp_Soapphp_Clientphp_Exceptionphp withphp invalidphp soapphp versionphp argument
php php php php php php*php/
php php php php publicphp functionphp setSoapVersionphp(php$versionphp)
php php php php php{
php php php php php php php php ifphp php(php!inphp_arrayphp(php$versionphp,php arrayphp(SOAPphp_php1php_php1php,php SOAPphp_php1php_php2php)php)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'Invalidphp soapphp versionphp specifiedphp.php Usephp SOAPphp_php1php_php1php orphp SOAPphp_php1php_php2php constantsphp.php'php)php;
php php php php php php php php php}
php php php php php php php php php$thisphp-php>php_soapVersionphp php=php php$versionphp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp SOAPphp version
php php php php php php*
php php php php php php*php php@returnphp int
php php php php php php*php/
php php php php publicphp functionphp getSoapVersionphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_soapVersionphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp classmap
php php php php php php*
php php php php php php*php php@paramphp php arrayphp php$classmap
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php php@throwsphp Zendphp_Soapphp_Clientphp_Exceptionphp forphp anyphp invalidphp classphp inphp thephp classphp map
php php php php php php*php/
php php php php publicphp functionphp setClassmapphp(arrayphp php$classmapphp)
php php php php php{
php php php php php php php php foreachphp php(php$classmapphp asphp php$typephp php=php>php php$classphp)php php{
php php php php php php php php php php php php ifphp php(php!classphp_existsphp(php$classphp)php)php php{
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'Invalidphp classphp inphp classphp mapphp'php)php;
php php php php php php php php php php php php php}
php php php php php php php php php}

php php php php php php php php php$thisphp-php>php_classmapphp php=php php$classmapphp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp classmap
php php php php php php*
php php php php php php*php php@returnphp mixed
php php php php php php*php/
php php php php publicphp functionphp getClassmapphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_classmapphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp encoding
php php php php php php*
php php php php php php*php php@paramphp php stringphp php$encoding
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php php@throwsphp Zendphp_Soapphp_Clientphp_Exceptionphp withphp invalidphp encodingphp argument
php php php php php php*php/
php php php php publicphp functionphp setEncodingphp(php$encodingphp)
php php php php php{
php php php php php php php php ifphp php(php!isphp_stringphp(php$encodingphp)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'Invalidphp encodingphp specifiedphp'php)php;
php php php php php php php php php}

php php php php php php php php php$thisphp-php>php_encodingphp php=php php$encodingphp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp encoding
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getEncodingphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_encodingphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Checkphp forphp validphp URN
php php php php php php*
php php php php php php*php php@paramphp php stringphp php$urn
php php php php php php*php php@returnphp true
php php php php php php*php php@throwsphp Zendphp_Soapphp_Clientphp_Exceptionphp onphp invalidphp URN
php php php php php php*php/
php php php php publicphp functionphp validateUrnphp(php$urnphp)
php php php php php{
php php php php php php php php php$schemephp php=php parsephp_urlphp(php$urnphp,php PHPphp_URLphp_SCHEMEphp)php;
php php php php php php php php ifphp php(php$schemephp php=php=php=php falsephp php|php|php php$schemephp php=php=php=php nullphp)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'Invalidphp URNphp'php)php;
php php php php php php php php php}

php php php php php php php php returnphp truephp;

php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp URI
php php php php php php*
php php php php php php*php URIphp inphp Webphp Servicephp thephp targetphp namespace
php php php php php php*
php php php php php php*php php@paramphp php stringphp php$uri
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php php@throwsphp Zendphp_Soapphp_Clientphp_Exceptionphp withphp invalidphp uriphp argument
php php php php php php*php/
php php php php publicphp functionphp setUriphp(php$uriphp)
php php php php php{
php php php php php php php php php$thisphp-php>validateUrnphp(php$uriphp)php;
php php php php php php php php php$thisphp-php>php_uriphp php=php php$uriphp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp URI
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getUriphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_uriphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp Location
php php php php php php*
php php php php php php*php URIphp inphp Webphp Servicephp thephp targetphp namespace
php php php php php php*
php php php php php php*php php@paramphp php stringphp php$location
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php php@throwsphp Zendphp_Soapphp_Clientphp_Exceptionphp withphp invalidphp uriphp argument
php php php php php php*php/
php php php php publicphp functionphp setLocationphp(php$locationphp)
php php php php php{
php php php php php php php php php$thisphp-php>validateUrnphp(php$locationphp)php;
php php php php php php php php php$thisphp-php>php_locationphp php=php php$locationphp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp URI
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getLocationphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_locationphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp requestphp style
php php php php php php*
php php php php php php*php php@paramphp php intphp php$stylephp Onephp ofphp thephp SOAPphp_RPCphp orphp SOAPphp_DOCUMENTphp constants
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php php@throwsphp Zendphp_Soapphp_Clientphp_Exceptionphp withphp invalidphp stylephp argument
php php php php php php*php/
php php php php publicphp functionphp setStylephp(php$stylephp)
php php php php php{
php php php php php php php php ifphp php(php!inphp_arrayphp(php$stylephp,php arrayphp(SOAPphp_RPCphp,php SOAPphp_DOCUMENTphp)php)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'Invalidphp requestphp stylephp specifiedphp.php Usephp SOAPphp_RPCphp orphp SOAPphp_DOCUMENTphp constantsphp.php'php)php;
php php php php php php php php php}

php php php php php php php php php$thisphp-php>php_stylephp php=php php$stylephp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp requestphp style
php php php php php php*
php php php php php php*php php@returnphp int
php php php php php php*php/
php php php php publicphp functionphp getStylephp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_stylephp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp messagephp encodingphp method
php php php php php php*
php php php php php php*php php@paramphp php intphp php$usephp Onephp ofphp thephp SOAPphp_ENCODEDphp orphp SOAPphp_LITERALphp constants
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php php@throwsphp Zendphp_Soapphp_Clientphp_Exceptionphp withphp invalidphp messagephp encodingphp methodphp argument
php php php php php php*php/
php php php php publicphp functionphp setEncodingMethodphp(php$usephp)
php php php php php{
php php php php php php php php ifphp php(php!inphp_arrayphp(php$usephp,php arrayphp(SOAPphp_ENCODEDphp,php SOAPphp_LITERALphp)php)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'Invalidphp messagephp encodingphp methodphp.php Usephp SOAPphp_ENCODEDphp orphp SOAPphp_LITERALphp constantsphp.php'php)php;
php php php php php php php php php}

php php php php php php php php php$thisphp-php>php_usephp php=php php$usephp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp messagephp encodingphp method
php php php php php php*
php php php php php php*php php@returnphp int
php php php php php php*php/
php php php php publicphp functionphp getEncodingMethodphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_usephp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp HTTPphp login
php php php php php php*
php php php php php php*php php@paramphp php stringphp php$login
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setHttpLoginphp(php$loginphp)
php php php php php{
php php php php php php php php php$thisphp-php>php_loginphp php=php php$loginphp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp HTTPphp Login
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getHttpLoginphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_loginphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp HTTPphp password
php php php php php php*
php php php php php php*php php@paramphp php stringphp php$password
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setHttpPasswordphp(php$passwordphp)
php php php php php{
php php php php php php php php php$thisphp-php>php_passwordphp php=php php$passwordphp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp HTTPphp Password
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getHttpPasswordphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_passwordphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp proxyphp host
php php php php php php*
php php php php php php*php php@paramphp php stringphp php$proxyHost
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setProxyHostphp(php$proxyHostphp)
php php php php php{
php php php php php php php php php$thisphp-php>php_proxyphp_hostphp php=php php$proxyHostphp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp proxyphp host
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getProxyHostphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_proxyphp_hostphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp proxyphp port
php php php php php php*
php php php php php php*php php@paramphp php intphp php$proxyPort
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setProxyPortphp(php$proxyPortphp)
php php php php php{
php php php php php php php php php$thisphp-php>php_proxyphp_portphp php=php php(intphp)php$proxyPortphp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp proxyphp port
php php php php php php*
php php php php php php*php php@returnphp int
php php php php php php*php/
php php php php publicphp functionphp getProxyPortphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_proxyphp_portphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp proxyphp login
php php php php php php*
php php php php php php*php php@paramphp php stringphp php$proxyLogin
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setProxyLoginphp(php$proxyLoginphp)
php php php php php{
php php php php php php php php php$thisphp-php>php_proxyphp_loginphp php=php php$proxyLoginphp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp proxyphp login
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getProxyLoginphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_proxyphp_loginphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp proxyphp password
php php php php php php*
php php php php php php*php php@paramphp php stringphp php$proxyLogin
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setProxyPasswordphp(php$proxyPasswordphp)
php php php php php{
php php php php php php php php php$thisphp-php>php_proxyphp_passwordphp php=php php$proxyPasswordphp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp HTTPSphp clientphp certificatephp path
php php php php php php*
php php php php php php*php php@paramphp php stringphp php$localCertphp localphp certificatephp path
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php php@throwsphp Zendphp_Soapphp_Clientphp_Exceptionphp withphp invalidphp localphp certificatephp pathphp argument
php php php php php php*php/
php php php php publicphp functionphp setHttpsCertificatephp(php$localCertphp)
php php php php php{
php php php php php php php php ifphp php(php!isphp_readablephp(php$localCertphp)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'Invalidphp HTTPSphp clientphp certificatephp pathphp.php'php)php;
php php php php php php php php php}

php php php php php php php php php$thisphp-php>php_localphp_certphp php=php php$localCertphp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp HTTPSphp clientphp certificatephp path
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getHttpsCertificatephp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_localphp_certphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp HTTPSphp clientphp certificatephp passphrase
php php php php php php*
php php php php php php*php php@paramphp php stringphp php$passphrase
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setHttpsCertPassphrasephp(php$passphrasephp)
php php php php php{
php php php php php php php php php$thisphp-php>php_passphrasephp php=php php$passphrasephp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp HTTPSphp clientphp certificatephp passphrase
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getHttpsCertPassphrasephp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_passphrasephp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp compressionphp options
php php php php php php*
php php php php php php*php php@paramphp php intphp|nullphp php$compressionOptions
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setCompressionOptionsphp(php$compressionOptionsphp)
php php php php php{
php php php php php php php php ifphp php(php$compressionOptionsphp php=php=php=php nullphp)php php{
php php php php php php php php php php php php php$thisphp-php>php_compressionphp php=php nullphp;
php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php$thisphp-php>php_compressionphp php=php php(intphp)php$compressionOptionsphp;
php php php php php php php php php}
php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;
php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp Compressionphp options
php php php php php php*
php php php php php php*php php@returnphp int
php php php php php php*php/
php php php php publicphp functionphp getCompressionOptionsphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_compressionphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp proxyphp password
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getProxyPasswordphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_proxyphp_passwordphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp Streamphp Context
php php php php php php*
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setStreamContextphp(php$contextphp)
php php php php php{
php php php php php php php php ifphp(php!isphp_resourcephp(php$contextphp)php php|php|php getphp_resourcephp_typephp(php$contextphp)php php!php=php=php php"streamphp-contextphp"php)php php{
php php php php php php php php php php php php php/php*php*
php php php php php php php php php php php php php php*php php@seephp Zendphp_Soapphp_Clientphp_Exception
php php php php php php php php php php php php php php*php/
php php php php php php php php php php php php requirephp_oncephp php"Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp"php;
php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(
php php php php php php php php php php php php php php php php php"Invalidphp streamphp contextphp resourcephp givenphp.php"
php php php php php php php php php php php php php)php;
php php php php php php php php php}

php php php php php php php php php$thisphp-php>php_streamphp_contextphp php=php php$contextphp;
php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp Streamphp Context
php php php php php php*
php php php php php php*php php@returnphp resource
php php php php php php*php/
php php php php publicphp functionphp getStreamContextphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_streamphp_contextphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp thephp SOAPphp Featurephp optionsphp.
php php php php php php*
php php php php php php*php php@paramphp php stringphp|intphp php$feature
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setSoapFeaturesphp(php$featurephp)
php php php php php{
php php php php php php php php php$thisphp-php>php_featuresphp php=php php$featurephp;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php nullphp;
php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Returnphp currentphp SOAPphp Featuresphp options
php php php php php php*
php php php php php php*php php@returnphp int
php php php php php php*php/
php php php php publicphp functionphp getSoapFeaturesphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_featuresphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp thephp SOAPphp Wsdlphp Cachingphp Options
php php php php php php*
php php php php php php*php php@paramphp stringphp|intphp|booleanphp|nullphp php$caching
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setWsdlCachephp(php$cachingphp)
php php php php php{
php php php php php php php php ifphp php(php$cachingphp php=php=php=php nullphp)php php{
php php php php php php php php php php php php php$thisphp-php>php_cachephp_wsdlphp php=php nullphp;
php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php$thisphp-php>php_cachephp_wsdlphp php=php php(intphp)php$cachingphp;
php php php php php php php php php}
php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp currentphp SOAPphp Wsdlphp Cachingphp option
php php php php php php*
php php php php php php*php php@returnphp int
php php php php php php*php/
php php php php publicphp functionphp getWsdlCachephp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_cachephp_wsdlphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Setphp thephp stringphp tophp usephp inphp Userphp-Agentphp header
php php php php php php*
php php php php php php*php php@paramphp php stringphp|nullphp php$userAgent
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setUserAgentphp(php$userAgentphp)
php php php php php{
php php php php php php php php ifphp php(php$userAgentphp php=php=php=php nullphp)php php{
php php php php php php php php php php php php php$thisphp-php>php_userphp_agentphp php=php nullphp;
php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php$thisphp-php>php_userphp_agentphp php=php php(stringphp)php$userAgentphp;
php php php php php php php php php}
php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp currentphp stringphp tophp usephp inphp Userphp-Agentphp header
php php php php php php*
php php php php php php*php php@returnphp stringphp|null
php php php php php php*php/
php php php php publicphp functionphp getUserAgentphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_userphp_agentphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp requestphp XML
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getLastRequestphp(php)
php php php php php{
php php php php php php php php ifphp php(php$thisphp-php>php_soapClientphp php!php=php=php nullphp)php php{
php php php php php php php php php php php php returnphp php$thisphp-php>php_soapClientphp-php>php_php_getLastRequestphp(php)php;
php php php php php php php php php}

php php php php php php php php returnphp php'php'php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp responsephp XML
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getLastResponsephp(php)
php php php php php{
php php php php php php php php ifphp php(php$thisphp-php>php_soapClientphp php!php=php=php nullphp)php php{
php php php php php php php php php php php php returnphp php$thisphp-php>php_soapClientphp-php>php_php_getLastResponsephp(php)php;
php php php php php php php php php}

php php php php php php php php returnphp php'php'php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp requestphp headers
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getLastRequestHeadersphp(php)
php php php php php{
php php php php php php php php ifphp php(php$thisphp-php>php_soapClientphp php!php=php=php nullphp)php php{
php php php php php php php php php php php php returnphp php$thisphp-php>php_soapClientphp-php>php_php_getLastRequestHeadersphp(php)php;
php php php php php php php php php}

php php php php php php php php returnphp php'php'php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp responsephp headersphp php(asphp stringphp)
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getLastResponseHeadersphp(php)
php php php php php{
php php php php php php php php ifphp php(php$thisphp-php>php_soapClientphp php!php=php=php nullphp)php php{
php php php php php php php php php php php php returnphp php$thisphp-php>php_soapClientphp-php>php_php_getLastResponseHeadersphp(php)php;
php php php php php php php php php}

php php php php php php php php returnphp php'php'php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Retrievephp lastphp invokedphp method
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getLastMethodphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_lastMethodphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Dophp requestphp proxyphp methodphp.
php php php php php php*
php php php php php php*php Mayphp bephp overriddenphp inphp subclasses
php php php php php php*
php php php php php php*php php@internal
php php php php php php*php php@paramphp Zendphp_Soapphp_Clientphp_Commonphp php$client
php php php php php php*php php@paramphp stringphp php$request
php php php php php php*php php@paramphp stringphp php$location
php php php php php php*php php@paramphp stringphp php$action
php php php php php php*php php@paramphp intphp php php php php$version
php php php php php php*php php@paramphp intphp php php php php$onephp_way
php php php php php php*php php@returnphp mixed
php php php php php php*php/
php php php php publicphp functionphp php_doRequestphp(Zendphp_Soapphp_Clientphp_Commonphp php$clientphp,php php$requestphp,php php$locationphp,php php$actionphp,php php$versionphp,php php$onephp_wayphp php=php nullphp)
php php php php php{
php php php php php php php php php/php/php Performphp requestphp asphp is
php php php php php php php php ifphp php(php$onephp_wayphp php=php=php nullphp)php php{
php php php php php php php php php php php php returnphp callphp_userphp_funcphp(arrayphp(php$clientphp,php'SoapClientphp:php:php_php_doRequestphp'php)php,php php$requestphp,php php$locationphp,php php$actionphp,php php$versionphp)php;
php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php returnphp callphp_userphp_funcphp(arrayphp(php$clientphp,php'SoapClientphp:php:php_php_doRequestphp'php)php,php php$requestphp,php php$locationphp,php php$actionphp,php php$versionphp,php php$onephp_wayphp)php;
php php php php php php php php php}
php php php php php}

php php php php php/php*php*
php php php php php php*php Initializephp SOAPphp Clientphp object
php php php php php php*
php php php php php php*php php@throwsphp Zendphp_Soapphp_Clientphp_Exception
php php php php php php*php/
php php php php protectedphp functionphp php_initSoapClientObjectphp(php)
php php php php php{
php php php php php php php php php$wsdlphp php=php php$thisphp-php>getWsdlphp(php)php;
php php php php php php php php php$optionsphp php=php arrayphp_mergephp(php$thisphp-php>getOptionsphp(php)php,php arrayphp(php'tracephp'php php=php>php truephp)php)php;

php php php php php php php php ifphp php(php$wsdlphp php=php=php nullphp)php php{
php php php php php php php php php php php php ifphp php(php!issetphp(php$optionsphp[php'locationphp'php]php)php)php php{
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'php\php'locationphp\php'php parameterphp isphp requiredphp inphp nonphp-WSDLphp modephp.php'php)php;
php php php php php php php php php php php php php}
php php php php php php php php php php php php ifphp php(php!issetphp(php$optionsphp[php'uriphp'php]php)php)php php{
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'php\php'uriphp\php'php parameterphp isphp requiredphp inphp nonphp-WSDLphp modephp.php'php)php;
php php php php php php php php php php php php php}
php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php ifphp php(issetphp(php$optionsphp[php'usephp'php]php)php)php php{
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'php\php'usephp\php'php parameterphp onlyphp worksphp inphp nonphp-WSDLphp modephp.php'php)php;
php php php php php php php php php php php php php}
php php php php php php php php php php php php ifphp php(issetphp(php$optionsphp[php'stylephp'php]php)php)php php{
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'php\php'stylephp\php'php parameterphp onlyphp worksphp inphp nonphp-WSDLphp modephp.php'php)php;
php php php php php php php php php php php php php}
php php php php php php php php php}
php php php php php php php php unsetphp(php$optionsphp[php'wsdlphp'php]php)php;

php php php php php php php php php$thisphp-php>php_soapClientphp php=php newphp Zendphp_Soapphp_Clientphp_Commonphp(arrayphp(php$thisphp,php php'php_doRequestphp'php)php,php php$wsdlphp,php php$optionsphp)php;
php php php php php}


php php php php php/php*php*
php php php php php php*php Performphp argumentsphp prephp-processing
php php php php php php*
php php php php php php*php Myphp bephp overriddenphp inphp descendantphp classes
php php php php php php*
php php php php php php*php php@paramphp arrayphp php$arguments
php php php php php php*php/
php php php php protectedphp functionphp php_preProcessArgumentsphp(php$argumentsphp)
php php php php php{
php php php php php php php php php/php/php Dophp nothing
php php php php php php php php returnphp php$argumentsphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Performphp resultphp prephp-processing
php php php php php php*
php php php php php php*php Myphp bephp overriddenphp inphp descendantphp classes
php php php php php php*
php php php php php php*php php@paramphp arrayphp php$arguments
php php php php php php*php/
php php php php protectedphp functionphp php_preProcessResultphp(php$resultphp)
php php php php php{
php php php php php php php php php/php/php Dophp nothing
php php php php php php php php returnphp php$resultphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Addphp SOAPphp inputphp header
php php php php php php*
php php php php php php*php php@paramphp SoapHeaderphp php$header
php php php php php php*php php@paramphp booleanphp php$permanent
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp addSoapInputHeaderphp(SoapHeaderphp php$headerphp,php php$permanentphp php=php falsephp)
php php php php php{
php php php php php php php php ifphp php(php$permanentphp)php php{
php php php php php php php php php php php php php$thisphp-php>php_permanentSoapInputHeadersphp[php]php php=php php$headerphp;
php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php$thisphp-php>php_soapInputHeadersphp[php]php php=php php$headerphp;
php php php php php php php php php}

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Resetphp SOAPphp inputphp headers
php php php php php php*
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp resetSoapInputHeadersphp(php)
php php php php php{
php php php php php php php php php$thisphp-php>php_permanentSoapInputHeadersphp php=php arrayphp(php)php;
php php php php php php php php php$thisphp-php>php_soapInputHeadersphp php=php arrayphp(php)php;

php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp lastphp SOAPphp outputphp headers
php php php php php php*
php php php php php php*php php@returnphp array
php php php php php php*php/
php php php php publicphp functionphp getLastSoapOutputHeaderObjectsphp(php)
php php php php php{
php php php php php php php php returnphp php$thisphp-php>php_soapOutputHeadersphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Performphp aphp SOAPphp call
php php php php php php*
php php php php php php*php php@paramphp stringphp php$name
php php php php php php*php php@paramphp arrayphp php php$arguments
php php php php php php*php php@returnphp mixed
php php php php php php*php/
php php php php publicphp functionphp php_php_callphp(php$namephp,php php$argumentsphp)
php php php php php{
php php php php php php php php php$soapClientphp php=php php$thisphp-php>getSoapClientphp(php)php;

php php php php php php php php php$thisphp-php>php_lastMethodphp php=php php$namephp;

php php php php php php php php php$soapHeadersphp php=php arrayphp_mergephp(php$thisphp-php>php_permanentSoapInputHeadersphp,php php$thisphp-php>php_soapInputHeadersphp)php;
php php php php php php php php php$resultphp php=php php$soapClientphp-php>php_php_soapCallphp(php$namephp,
php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php$thisphp-php>php_preProcessArgumentsphp(php$argumentsphp)php,
php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php nullphp,php php/php*php Optionsphp arephp alreadyphp setphp tophp thephp SOAPphp clientphp objectphp php*php/
php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php(countphp(php$soapHeadersphp)php php>php php0php)php?php php$soapHeadersphp php:php nullphp,
php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php php$thisphp-php>php_soapOutputHeadersphp)php;

php php php php php php php php php/php/php Resetphp nonphp-permanentphp inputphp headers
php php php php php php php php php$thisphp-php>php_soapInputHeadersphp php=php arrayphp(php)php;

php php php php php php php php returnphp php$thisphp-php>php_preProcessResultphp(php$resultphp)php;
php php php php php}


php php php php php/php*php*
php php php php php php*php Returnphp aphp listphp ofphp availablephp functions
php php php php php php*
php php php php php php*php php@returnphp array
php php php php php php*php php@throwsphp Zendphp_Soapphp_Clientphp_Exception
php php php php php php*php/
php php php php publicphp functionphp getFunctionsphp(php)
php php php php php{
php php php php php php php php ifphp php(php$thisphp-php>getWsdlphp(php)php php=php=php nullphp)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'php\php'getFunctionsphp\php'php methodphp isphp availablephp onlyphp inphp WSDLphp modephp.php'php)php;
php php php php php php php php php}

php php php php php php php php php$soapClientphp php=php php$thisphp-php>getSoapClientphp(php)php;
php php php php php php php php returnphp php$soapClientphp-php>php_php_getFunctionsphp(php)php;
php php php php php}


php php php php php/php*php*
php php php php php php*php Getphp usedphp typesphp.
php php php php php php*
php php php php php php*php php@returnphp array
php php php php php php*php/

php php php php php/php*php*
php php php php php php*php Returnphp aphp listphp ofphp SOAPphp types
php php php php php php*
php php php php php php*php php@returnphp array
php php php php php php*php php@throwsphp Zendphp_Soapphp_Clientphp_Exception
php php php php php php*php/
php php php php publicphp functionphp getTypesphp(php)
php php php php php{
php php php php php php php php ifphp php(php$thisphp-php>getWsdlphp(php)php php=php=php nullphp)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Soapphp/Clientphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php throwphp newphp Zendphp_Soapphp_Clientphp_Exceptionphp(php'php\php'getTypesphp\php'php methodphp isphp availablephp onlyphp inphp WSDLphp modephp.php'php)php;
php php php php php php php php php}

php php php php php php php php php$soapClientphp php=php php$thisphp-php>getSoapClientphp(php)php;

php php php php php php php php returnphp php$soapClientphp-php>php_php_getTypesphp(php)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php php@paramphp SoapClientphp php$soapClient
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setSoapClientphp(SoapClientphp php$soapClientphp)
php php php php php{
php php php php php php php php php$thisphp-php>php_soapClientphp php=php php$soapClientphp;
php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php php@returnphp SoapClient
php php php php php php*php/
php php php php publicphp functionphp getSoapClientphp(php)
php php php php php{
php php php php php php php php ifphp php(php$thisphp-php>php_soapClientphp php=php=php nullphp)php php{
php php php php php php php php php php php php php$thisphp-php>php_initSoapClientObjectphp(php)php;
php php php php php php php php php}
php php php php php php php php returnphp php$thisphp-php>php_soapClientphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php php@paramphp stringphp php$name
php php php php php php*php php@paramphp stringphp php$value
php php php php php php*php php@returnphp Zendphp_Soapphp_Client
php php php php php php*php/
php php php php publicphp functionphp setCookiephp(php$cookieNamephp,php php$cookieValuephp=nullphp)
php php php php php{
php php php php php php php php php$soapClientphp php=php php$thisphp-php>getSoapClientphp(php)php;
php php php php php php php php php$soapClientphp-php>php_php_setCookiephp(php$cookieNamephp,php php$cookieValuephp)php;
php php php php php php php php returnphp php$thisphp;
php php php php php}
php}
