<php?php
php/php*php*
php php*php Zendphp Framework
php php*
php php*php LICENSE
php php*
php php*php Thisphp sourcephp filephp isphp subjectphp tophp thephp newphp BSDphp licensephp thatphp isphp bundled
php php*php withphp thisphp packagephp inphp thephp filephp LICENSEphp.txtphp.
php php*php Itphp isphp alsophp availablephp throughphp thephp worldphp-widephp-webphp atphp thisphp URLphp:
php php*php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsd
php php*php Ifphp youphp didphp notphp receivephp aphp copyphp ofphp thephp licensephp andphp arephp unablephp to
php php*php obtainphp itphp throughphp thephp worldphp-widephp-webphp,php pleasephp sendphp anphp email
php php*php tophp licensephp@zendphp.comphp sophp wephp canphp sendphp youphp aphp copyphp immediatelyphp.
php php*
php php*php php@categoryphp php php Zend
php php*php php@packagephp php php php Zendphp_View
php php*php php@subpackagephp Helper
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@versionphp php php php php$Idphp:php HeadLinkphp.phpphp php2php3php2php4php9php php2php0php1php0php-php1php0php-php2php6php php1php2php:php4php6php:php4php7Zphp matthewphp php$
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php/

php/php*php*php Zendphp_Viewphp_Helperphp_Placeholderphp_Containerphp_Standalonephp php*php/
requirephp_oncephp php'Zendphp/Viewphp/Helperphp/Placeholderphp/Containerphp/Standalonephp.phpphp'php;

php/php*php*
php php*php Zendphp_Layoutphp_Viewphp_Helperphp_HeadLink
php php*
php php*php php@seephp php php php php php php php httpphp:php/php/wwwphp.wphp3php.orgphp/TRphp/xhtmlphp1php/dtdsphp.html
php php*php php@usesphp php php php php php php Zendphp_Viewphp_Helperphp_Placeholderphp_Containerphp_Standalone
php php*php php@packagephp php php php Zendphp_View
php php*php php@subpackagephp Helper
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php/
classphp Zendphp_Viewphp_Helperphp_HeadLinkphp extendsphp Zendphp_Viewphp_Helperphp_Placeholderphp_Containerphp_Standalone
php{
php php php php php/php*php*
php php php php php php*php php$php_validAttributes
php php php php php php*
php php php php php php*php php@varphp array
php php php php php php*php/
php php php php protectedphp php$php_itemKeysphp php=php arrayphp(php'charsetphp'php,php php'hrefphp'php,php php'hreflangphp'php,php php'idphp'php,php php'mediaphp'php,php php'relphp'php,php php'revphp'php,php php'typephp'php,php php'titlephp'php,php php'extrasphp'php)php;

php php php php php/php*php*
php php php php php php*php php@varphp stringphp registryphp key
php php php php php php*php/
php php php php protectedphp php$php_regKeyphp php=php php'Zendphp_Viewphp_Helperphp_HeadLinkphp'php;

php php php php php/php*php*
php php php php php php*php Constructor
php php php php php php*
php php php php php php*php Usephp PHPphp_EOLphp asphp separator
php php php php php php*
php php php php php php*php php@returnphp void
php php php php php php*php/
php php php php publicphp functionphp php_php_constructphp(php)
php php php php php{
php php php php php php php php parentphp:php:php_php_constructphp(php)php;
php php php php php php php php php$thisphp-php>setSeparatorphp(PHPphp_EOLphp)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php headLinkphp(php)php php-php Viewphp Helperphp Method
php php php php php php*
php php php php php php*php Returnsphp currentphp objectphp instancephp.php Optionallyphp,php allowsphp passingphp arrayphp of
php php php php php php*php valuesphp tophp buildphp linkphp.
php php php php php php*
php php php php php php*php php@returnphp Zendphp_Viewphp_Helperphp_HeadLink
php php php php php php*php/
php php php php publicphp functionphp headLinkphp(arrayphp php$attributesphp php=php nullphp,php php$placementphp php=php Zendphp_Viewphp_Helperphp_Placeholderphp_Containerphp_Abstractphp:php:APPENDphp)
php php php php php{
php php php php php php php php ifphp php(nullphp php!php=php=php php$attributesphp)php php{
php php php php php php php php php php php php php$itemphp php=php php$thisphp-php>createDataphp(php$attributesphp)php;
php php php php php php php php php php php php switchphp php(php$placementphp)php php{
php php php php php php php php php php php php php php php php casephp Zendphp_Viewphp_Helperphp_Placeholderphp_Containerphp_Abstractphp:php:SETphp:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>setphp(php$itemphp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp Zendphp_Viewphp_Helperphp_Placeholderphp_Containerphp_Abstractphp:php:PREPENDphp:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>prependphp(php$itemphp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php php php php casephp Zendphp_Viewphp_Helperphp_Placeholderphp_Containerphp_Abstractphp:php:APPENDphp:
php php php php php php php php php php php php php php php php defaultphp:
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>appendphp(php$itemphp)php;
php php php php php php php php php php php php php php php php php php php php breakphp;
php php php php php php php php php php php php php}
php php php php php php php php php}
php php php php php php php php returnphp php$thisphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Overloadphp methodphp access
php php php php php php*
php php php php php php*php Createsphp thephp followingphp virtualphp methodsphp:
php php php php php php*php php-php appendStylesheetphp(php$hrefphp,php php$mediaphp,php php$conditionalStylesheetphp,php php$extrasphp)
php php php php php php*php php-php offsetSetStylesheetphp(php$indexphp,php php$hrefphp,php php$mediaphp,php php$conditionalStylesheetphp,php php$extrasphp)
php php php php php php*php php-php prependStylesheetphp(php$hrefphp,php php$mediaphp,php php$conditionalStylesheetphp,php php$extrasphp)
php php php php php php*php php-php setStylesheetphp(php$hrefphp,php php$mediaphp,php php$conditionalStylesheetphp,php php$extrasphp)
php php php php php php*php php-php appendAlternatephp(php$hrefphp,php php$typephp,php php$titlephp,php php$extrasphp)
php php php php php php*php php-php offsetSetAlternatephp(php$indexphp,php php$hrefphp,php php$typephp,php php$titlephp,php php$extrasphp)
php php php php php php*php php-php prependAlternatephp(php$hrefphp,php php$typephp,php php$titlephp,php php$extrasphp)
php php php php php php*php php-php setAlternatephp(php$hrefphp,php php$typephp,php php$titlephp,php php$extrasphp)
php php php php php php*
php php php php php php*php Itemsphp thatphp mayphp bephp addedphp inphp thephp futurephp:
php php php php php php*php php-php Navigationphp?php php needphp tophp findphp docsphp onphp this
php php php php php php*php php php php-php publicphp functionphp appendStartphp(php)
php php php php php php*php php php php-php publicphp functionphp appendContentsphp(php)
php php php php php php*php php php php-php publicphp functionphp appendPrevphp(php)
php php php php php php*php php php php-php publicphp functionphp appendNextphp(php)
php php php php php php*php php php php-php publicphp functionphp appendIndexphp(php)
php php php php php php*php php php php-php publicphp functionphp appendEndphp(php)
php php php php php php*php php php php-php publicphp functionphp appendGlossaryphp(php)
php php php php php php*php php php php-php publicphp functionphp appendAppendixphp(php)
php php php php php php*php php php php-php publicphp functionphp appendHelpphp(php)
php php php php php php*php php php php-php publicphp functionphp appendBookmarkphp(php)
php php php php php php*php php-php Otherphp?
php php php php php php*php php php php-php publicphp functionphp appendCopyrightphp(php)
php php php php php php*php php php php-php publicphp functionphp appendChapterphp(php)
php php php php php php*php php php php-php publicphp functionphp appendSectionphp(php)
php php php php php php*php php php php-php publicphp functionphp appendSubsectionphp(php)
php php php php php php*
php php php php php php*php php@paramphp mixedphp php$method
php php php php php php*php php@paramphp mixedphp php$args
php php php php php php*php php@returnphp void
php php php php php php*php/
php php php php publicphp functionphp php_php_callphp(php$methodphp,php php$argsphp)
php php php php php{
php php php php php php php php ifphp php(pregphp_matchphp(php'php/php^php(php?Pphp<actionphp>setphp|php(apphp|prephp)pendphp|offsetSetphp)php(php?Pphp<typephp>Stylesheetphp|Alternatephp)php$php/php'php,php php$methodphp,php php$matchesphp)php)php php{
php php php php php php php php php php php php php$argcphp php php php=php countphp(php$argsphp)php;
php php php php php php php php php php php php php$actionphp php=php php$matchesphp[php'actionphp'php]php;
php php php php php php php php php php php php php$typephp php php php=php php$matchesphp[php'typephp'php]php;
php php php php php php php php php php php php php$indexphp php php=php nullphp;

php php php php php php php php php php php php ifphp php(php'offsetSetphp'php php=php=php php$actionphp)php php{
php php php php php php php php php php php php php php php php ifphp php(php0php <php php$argcphp)php php{
php php php php php php php php php php php php php php php php php php php php php$indexphp php=php arrayphp_shiftphp(php$argsphp)php;
php php php php php php php php php php php php php php php php php php php php php-php-php$argcphp;
php php php php php php php php php php php php php php php php php}
php php php php php php php php php php php php php}

php php php php php php php php php php php php ifphp php(php1php php>php php$argcphp)php php{
php php php php php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Viewphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php php php php php$ephp php=php php newphp Zendphp_Viewphp_Exceptionphp(sprintfphp(php'php%sphp requiresphp atphp leastphp onephp argumentphp'php,php php$methodphp)php)php;
php php php php php php php php php php php php php php php php php$ephp-php>setViewphp(php$thisphp-php>viewphp)php;
php php php php php php php php php php php php php php php php throwphp php$ephp;
php php php php php php php php php php php php php}

php php php php php php php php php php php php ifphp php(isphp_arrayphp(php$argsphp[php0php]php)php)php php{
php php php php php php php php php php php php php php php php php$itemphp php=php php$thisphp-php>createDataphp(php$argsphp[php0php]php)php;
php php php php php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php php php php php$dataMethodphp php=php php'createDataphp'php php.php php$typephp;
php php php php php php php php php php php php php php php php php$itemphp php php php php php php php=php php$thisphp-php>php$dataMethodphp(php$argsphp)php;
php php php php php php php php php php php php php}

php php php php php php php php php php php php ifphp php(php$itemphp)php php{
php php php php php php php php php php php php php php php php ifphp php(php'offsetSetphp'php php=php=php php$actionphp)php php{
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>offsetSetphp(php$indexphp,php php$itemphp)php;
php php php php php php php php php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php php php php php php php php php$thisphp-php>php$actionphp(php$itemphp)php;
php php php php php php php php php php php php php php php php php}
php php php php php php php php php php php php php}

php php php php php php php php php php php php returnphp php$thisphp;
php php php php php php php php php}

php php php php php php php php returnphp parentphp:php:php_php_callphp(php$methodphp,php php$argsphp)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Checkphp ifphp valuephp isphp valid
php php php php php php*
php php php php php php*php php@paramphp php mixedphp php$value
php php php php php php*php php@returnphp boolean
php php php php php php*php/
php php php php protectedphp functionphp php_isValidphp(php$valuephp)
php php php php php{
php php php php php php php php ifphp php(php!php$valuephp instanceofphp stdClassphp)php php{
php php php php php php php php php php php php returnphp falsephp;
php php php php php php php php php}

php php php php php php php php php$varsphp php php php php php php php php php=php getphp_objectphp_varsphp(php$valuephp)php;
php php php php php php php php php$keysphp php php php php php php php php php=php arrayphp_keysphp(php$varsphp)php;
php php php php php php php php php$intersectionphp php=php arrayphp_intersectphp(php$thisphp-php>php_itemKeysphp,php php$keysphp)php;
php php php php php php php php ifphp php(emptyphp(php$intersectionphp)php)php php{
php php php php php php php php php php php php returnphp falsephp;
php php php php php php php php php}

php php php php php php php php returnphp truephp;
php php php php php}

php php php php php/php*php*
php php php php php php*php appendphp(php)
php php php php php php*
php php php php php php*php php@paramphp php arrayphp php$value
php php php php php php*php php@returnphp void
php php php php php php*php/
php php php php publicphp functionphp appendphp(php$valuephp)
php php php php php{
php php php php php php php php ifphp php(php!php$thisphp-php>php_isValidphp(php$valuephp)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Viewphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php$ephp php=php newphp Zendphp_Viewphp_Exceptionphp(php'appendphp(php)php expectsphp aphp dataphp tokenphp;php pleasephp usephp onephp ofphp thephp customphp appendphp*php(php)php methodsphp'php)php;
php php php php php php php php php php php php php$ephp-php>setViewphp(php$thisphp-php>viewphp)php;
php php php php php php php php php php php php throwphp php$ephp;
php php php php php php php php php}

php php php php php php php php returnphp php$thisphp-php>getContainerphp(php)php-php>appendphp(php$valuephp)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php offsetSetphp(php)
php php php php php php*
php php php php php php*php php@paramphp php stringphp|intphp php$index
php php php php php php*php php@paramphp php arrayphp php$value
php php php php php php*php php@returnphp void
php php php php php php*php/
php php php php publicphp functionphp offsetSetphp(php$indexphp,php php$valuephp)
php php php php php{
php php php php php php php php ifphp php(php!php$thisphp-php>php_isValidphp(php$valuephp)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Viewphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php$ephp php=php newphp Zendphp_Viewphp_Exceptionphp(php'offsetSetphp(php)php expectsphp aphp dataphp tokenphp;php pleasephp usephp onephp ofphp thephp customphp offsetSetphp*php(php)php methodsphp'php)php;
php php php php php php php php php php php php php$ephp-php>setViewphp(php$thisphp-php>viewphp)php;
php php php php php php php php php php php php throwphp php$ephp;
php php php php php php php php php}

php php php php php php php php returnphp php$thisphp-php>getContainerphp(php)php-php>offsetSetphp(php$indexphp,php php$valuephp)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php prependphp(php)
php php php php php php*
php php php php php php*php php@paramphp php arrayphp php$value
php php php php php php*php php@returnphp Zendphp_Layoutphp_ViewHelperphp_HeadLink
php php php php php php*php/
php php php php publicphp functionphp prependphp(php$valuephp)
php php php php php{
php php php php php php php php ifphp php(php!php$thisphp-php>php_isValidphp(php$valuephp)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Viewphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php$ephp php=php newphp Zendphp_Viewphp_Exceptionphp(php'prependphp(php)php expectsphp aphp dataphp tokenphp;php pleasephp usephp onephp ofphp thephp customphp prependphp*php(php)php methodsphp'php)php;
php php php php php php php php php php php php php$ephp-php>setViewphp(php$thisphp-php>viewphp)php;
php php php php php php php php php php php php throwphp php$ephp;
php php php php php php php php php}

php php php php php php php php returnphp php$thisphp-php>getContainerphp(php)php-php>prependphp(php$valuephp)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php setphp(php)
php php php php php php*
php php php php php php*php php@paramphp php arrayphp php$value
php php php php php php*php php@returnphp Zendphp_Layoutphp_ViewHelperphp_HeadLink
php php php php php php*php/
php php php php publicphp functionphp setphp(php$valuephp)
php php php php php{
php php php php php php php php ifphp php(php!php$thisphp-php>php_isValidphp(php$valuephp)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Viewphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php$ephp php=php newphp Zendphp_Viewphp_Exceptionphp(php'setphp(php)php expectsphp aphp dataphp tokenphp;php pleasephp usephp onephp ofphp thephp customphp setphp*php(php)php methodsphp'php)php;
php php php php php php php php php php php php php$ephp-php>setViewphp(php$thisphp-php>viewphp)php;
php php php php php php php php php php php php throwphp php$ephp;
php php php php php php php php php}

php php php php php php php php returnphp php$thisphp-php>getContainerphp(php)php-php>setphp(php$valuephp)php;
php php php php php}


php php php php php/php*php*
php php php php php php*php Createphp HTMLphp linkphp elementphp fromphp dataphp item
php php php php php php*
php php php php php php*php php@paramphp php stdClassphp php$item
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp itemToStringphp(stdClassphp php$itemphp)
php php php php php{
php php php php php php php php php$attributesphp php=php php(arrayphp)php php$itemphp;
php php php php php php php php php$linkphp php php php php php php php=php php'php<linkphp php'php;

php php php php php php php php foreachphp php(php$thisphp-php>php_itemKeysphp asphp php$itemKeyphp)php php{
php php php php php php php php php php php php ifphp php(issetphp(php$attributesphp[php$itemKeyphp]php)php)php php{
php php php php php php php php php php php php php php php php ifphp(isphp_arrayphp(php$attributesphp[php$itemKeyphp]php)php)php php{
php php php php php php php php php php php php php php php php php php php php foreachphp(php$attributesphp[php$itemKeyphp]php asphp php$keyphp php=php>php php$valuephp)php php{
php php php php php php php php php php php php php php php php php php php php php php php php php$linkphp php.php=php sprintfphp(php'php%sphp=php"php%sphp"php php'php,php php$keyphp,php php(php$thisphp-php>php_autoEscapephp)php php?php php$thisphp-php>php_escapephp(php$valuephp)php php:php php$valuephp)php;
php php php php php php php php php php php php php php php php php php php php php}
php php php php php php php php php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php php php php php php php php php$linkphp php.php=php sprintfphp(php'php%sphp=php"php%sphp"php php'php,php php$itemKeyphp,php php(php$thisphp-php>php_autoEscapephp)php php?php php$thisphp-php>php_escapephp(php$attributesphp[php$itemKeyphp]php)php php:php php$attributesphp[php$itemKeyphp]php)php;
php php php php php php php php php php php php php php php php php}
php php php php php php php php php php php php php}
php php php php php php php php php}

php php php php php php php php ifphp php(php$thisphp-php>viewphp instanceofphp Zendphp_Viewphp_Abstractphp)php php{
php php php php php php php php php php php php php$linkphp php.php=php php(php$thisphp-php>viewphp-php>doctypephp(php)php-php>isXhtmlphp(php)php)php php?php php'php/php>php'php php:php php'php>php'php;
php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php$linkphp php.php=php php'php/php>php'php;
php php php php php php php php php}

php php php php php php php php ifphp php(php(php$linkphp php=php=php php'php<linkphp php/php>php'php)php php|php|php php(php$linkphp php=php=php php'php<linkphp php>php'php)php)php php{
php php php php php php php php php php php php returnphp php'php'php;
php php php php php php php php php}

php php php php php php php php ifphp php(issetphp(php$attributesphp[php'conditionalStylesheetphp'php]php)
php php php php php php php php php php php php php&php&php php!emptyphp(php$attributesphp[php'conditionalStylesheetphp'php]php)
php php php php php php php php php php php php php&php&php isphp_stringphp(php$attributesphp[php'conditionalStylesheetphp'php]php)php)
php php php php php php php php php{
php php php php php php php php php php php php php$linkphp php=php php'<php!php-php-php[ifphp php'php php.php php$attributesphp[php'conditionalStylesheetphp'php]php php.php php'php]php>php php'php php.php php$linkphp php.php php'<php!php[endifphp]php-php-php>php'php;
php php php php php php php php php}

php php php php php php php php returnphp php$linkphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Renderphp linkphp elementsphp asphp string
php php php php php php*
php php php php php php*php php@paramphp php stringphp|intphp php$indent
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp toStringphp(php$indentphp php=php nullphp)
php php php php php{
php php php php php php php php php$indentphp php=php php(nullphp php!php=php=php php$indentphp)
php php php php php php php php php php php php php php php php php?php php$thisphp-php>getWhitespacephp(php$indentphp)
php php php php php php php php php php php php php php php php php:php php$thisphp-php>getIndentphp(php)php;

php php php php php php php php php$itemsphp php=php arrayphp(php)php;
php php php php php php php php php$thisphp-php>getContainerphp(php)php-php>ksortphp(php)php;
php php php php php php php php foreachphp php(php$thisphp asphp php$itemphp)php php{
php php php php php php php php php php php php php$itemsphp[php]php php=php php$thisphp-php>itemToStringphp(php$itemphp)php;
php php php php php php php php php}

php php php php php php php php returnphp php$indentphp php.php implodephp(php$thisphp-php>php_escapephp(php$thisphp-php>getSeparatorphp(php)php)php php.php php$indentphp,php php$itemsphp)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Createphp dataphp itemphp forphp stack
php php php php php php*
php php php php php php*php php@paramphp php arrayphp php$attributes
php php php php php php*php php@returnphp stdClass
php php php php php php*php/
php php php php publicphp functionphp createDataphp(arrayphp php$attributesphp)
php php php php php{
php php php php php php php php php$dataphp php=php php(objectphp)php php$attributesphp;
php php php php php php php php returnphp php$dataphp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Createphp itemphp forphp stylesheetphp linkphp item
php php php php php php*
php php php php php php*php php@paramphp php arrayphp php$args
php php php php php php*php php@returnphp stdClassphp|falsephp Returnsphp falsphp ifphp stylesheetphp isphp aphp duplicate
php php php php php php*php/
php php php php publicphp functionphp createDataStylesheetphp(arrayphp php$argsphp)
php php php php php{
php php php php php php php php php$relphp php php php php php php php php php php php php php php php php php php php=php php'stylesheetphp'php;
php php php php php php php php php$typephp php php php php php php php php php php php php php php php php php php=php php'textphp/cssphp'php;
php php php php php php php php php$mediaphp php php php php php php php php php php php php php php php php php=php php'screenphp'php;
php php php php php php php php php$conditionalStylesheetphp php=php falsephp;
php php php php php php php php php$hrefphp php php php php php php php php php php php php php php php php php php=php arrayphp_shiftphp(php$argsphp)php;

php php php php php php php php ifphp php(php$thisphp-php>php_isDuplicateStylesheetphp(php$hrefphp)php)php php{
php php php php php php php php php php php php returnphp falsephp;
php php php php php php php php php}

php php php php php php php php ifphp php(php0php <php countphp(php$argsphp)php)php php{
php php php php php php php php php php php php php$mediaphp php=php arrayphp_shiftphp(php$argsphp)php;
php php php php php php php php php php php php ifphp(isphp_arrayphp(php$mediaphp)php)php php{
php php php php php php php php php php php php php php php php php$mediaphp php=php implodephp(php'php,php'php,php php$mediaphp)php;
php php php php php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php php php php php$mediaphp php=php php(stringphp)php php$mediaphp;
php php php php php php php php php php php php php}
php php php php php php php php php}
php php php php php php php php ifphp php(php0php <php countphp(php$argsphp)php)php php{
php php php php php php php php php php php php php$conditionalStylesheetphp php=php arrayphp_shiftphp(php$argsphp)php;
php php php php php php php php php php php php ifphp(php!emptyphp(php$conditionalStylesheetphp)php php&php&php isphp_stringphp(php$conditionalStylesheetphp)php)php php{
php php php php php php php php php php php php php php php php php$conditionalStylesheetphp php=php php(stringphp)php php$conditionalStylesheetphp;
php php php php php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php php php php php$conditionalStylesheetphp php=php nullphp;
php php php php php php php php php php php php php}
php php php php php php php php php}

php php php php php php php php ifphp(php0php <php countphp(php$argsphp)php php&php&php isphp_arrayphp(php$argsphp[php0php]php)php)php php{
php php php php php php php php php php php php php$extrasphp php=php arrayphp_shiftphp(php$argsphp)php;
php php php php php php php php php php php php php$extrasphp php=php php(arrayphp)php php$extrasphp;
php php php php php php php php php}

php php php php php php php php php$attributesphp php=php compactphp(php'relphp'php,php php'typephp'php,php php'hrefphp'php,php php'mediaphp'php,php php'conditionalStylesheetphp'php,php php'extrasphp'php)php;
php php php php php php php php returnphp php$thisphp-php>createDataphp(php$attributesphp)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Isphp thephp linkedphp stylesheetphp aphp duplicatephp?
php php php php php php*
php php php php php php*php php@paramphp php stringphp php$uri
php php php php php php*php php@returnphp bool
php php php php php php*php/
php php php php protectedphp functionphp php_isDuplicateStylesheetphp(php$uriphp)
php php php php php{
php php php php php php php php foreachphp php(php$thisphp-php>getContainerphp(php)php asphp php$itemphp)php php{
php php php php php php php php php php php php ifphp php(php(php$itemphp-php>relphp php=php=php php'stylesheetphp'php)php php&php&php php(php$itemphp-php>hrefphp php=php=php php$uriphp)php)php php{
php php php php php php php php php php php php php php php php returnphp truephp;
php php php php php php php php php php php php php}
php php php php php php php php php}
php php php php php php php php returnphp falsephp;
php php php php php}

php php php php php/php*php*
php php php php php php*php Createphp itemphp forphp alternatephp linkphp item
php php php php php php*
php php php php php php*php php@paramphp php arrayphp php$args
php php php php php php*php php@returnphp stdClass
php php php php php php*php/
php php php php publicphp functionphp createDataAlternatephp(arrayphp php$argsphp)
php php php php php{
php php php php php php php php ifphp php(php3php php>php countphp(php$argsphp)php)php php{
php php php php php php php php php php php php requirephp_oncephp php'Zendphp/Viewphp/Exceptionphp.phpphp'php;
php php php php php php php php php php php php php$ephp php=php newphp Zendphp_Viewphp_Exceptionphp(sprintfphp(php'Alternatephp tagsphp requirephp php3php argumentsphp;php php%sphp providedphp'php,php countphp(php$argsphp)php)php)php;
php php php php php php php php php php php php php$ephp-php>setViewphp(php$thisphp-php>viewphp)php;
php php php php php php php php php php php php throwphp php$ephp;
php php php php php php php php php}

php php php php php php php php php$relphp php php php=php php'alternatephp'php;
php php php php php php php php php$hrefphp php php=php arrayphp_shiftphp(php$argsphp)php;
php php php php php php php php php$typephp php php=php arrayphp_shiftphp(php$argsphp)php;
php php php php php php php php php$titlephp php=php arrayphp_shiftphp(php$argsphp)php;

php php php php php php php php ifphp(php0php <php countphp(php$argsphp)php php&php&php isphp_arrayphp(php$argsphp[php0php]php)php)php php{
php php php php php php php php php php php php php$extrasphp php=php arrayphp_shiftphp(php$argsphp)php;
php php php php php php php php php php php php php$extrasphp php=php php(arrayphp)php php$extrasphp;

php php php php php php php php php php php php ifphp(issetphp(php$extrasphp[php'mediaphp'php]php)php php&php&php isphp_arrayphp(php$extrasphp[php'mediaphp'php]php)php)php php{
php php php php php php php php php php php php php php php php php$extrasphp[php'mediaphp'php]php php=php implodephp(php'php,php'php,php php$extrasphp[php'mediaphp'php]php)php;
php php php php php php php php php php php php php}
php php php php php php php php php}

php php php php php php php php php$hrefphp php php=php php(stringphp)php php$hrefphp;
php php php php php php php php php$typephp php php=php php(stringphp)php php$typephp;
php php php php php php php php php$titlephp php=php php(stringphp)php php$titlephp;

php php php php php php php php php$attributesphp php=php compactphp(php'relphp'php,php php'hrefphp'php,php php'typephp'php,php php'titlephp'php,php php'extrasphp'php)php;
php php php php php php php php returnphp php$thisphp-php>createDataphp(php$attributesphp)php;
php php php php php}
php}
