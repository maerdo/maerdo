<php?php
php/php*php*
php php*php Zendphp Framework
php php*
php php*php LICENSE
php php*
php php*php Thisphp sourcephp filephp isphp subjectphp tophp thephp newphp BSDphp licensephp thatphp isphp bundled
php php*php withphp thisphp packagephp inphp thephp filephp LICENSEphp.txtphp.
php php*php Itphp isphp alsophp availablephp throughphp thephp worldphp-widephp-webphp atphp thisphp URLphp:
php php*php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsd
php php*php Ifphp youphp didphp notphp receivephp aphp copyphp ofphp thephp licensephp andphp arephp unablephp to
php php*php obtainphp itphp throughphp thephp worldphp-widephp-webphp,php pleasephp sendphp anphp email
php php*php tophp licensephp@zendphp.comphp sophp wephp canphp sendphp youphp aphp copyphp immediatelyphp.
php php*
php php*php php@categoryphp php php Zend
php php*php php@packagephp php php php Zendphp_Searchphp_Lucene
php php*php php@subpackagephp Analysis
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php php@versionphp php php php php$Idphp:php Analyzerphp.phpphp php2php0php0php9php6php php2php0php1php0php-php0php1php-php0php6php php0php2php:php0php5php:php0php9Zphp bkarwinphp php$
php php*php/


php/php*php*php Userphp landphp classesphp andphp interfacesphp turnedphp onphp byphp Zendphp/Searchphp/Analyzerphp.phpphp filephp inclusionphp.php php*php/
php/php*php*php php@todophp Sectionphp shouldphp bephp removedphp withphp ZFphp php2php.php0php releasephp asphp obsoletephp php php php php php php php php php php php php php php php php php php php php php php*php/
ifphp php(php!definedphp(php'ZENDphp_SEARCHphp_LUCENEphp_COMMONphp_ANALYZERphp_PROCESSEDphp'php)php)php php{
php php php php php/php*php*php Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp_Commonphp_Utfphp8php php*php/
php php php php requirephp_oncephp php'Zendphp/Searchphp/Lucenephp/Analysisphp/Analyzerphp/Commonphp/Utfphp8php.phpphp'php;

php php php php php/php*php*php Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp_Commonphp_Utfphp8php_CaseInsensitivephp php*php/
php php php php requirephp_oncephp php'Zendphp/Searchphp/Lucenephp/Analysisphp/Analyzerphp/Commonphp/Utfphp8php/CaseInsensitivephp.phpphp'php;

php php php php php/php*php*php Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp_Commonphp_Utfphp8Numphp php*php/
php php php php requirephp_oncephp php'Zendphp/Searchphp/Lucenephp/Analysisphp/Analyzerphp/Commonphp/Utfphp8Numphp.phpphp'php;

php php php php php/php*php*php Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp_Commonphp_Utfphp8Numphp_CaseInsensitivephp php*php/
php php php php requirephp_oncephp php'Zendphp/Searchphp/Lucenephp/Analysisphp/Analyzerphp/Commonphp/Utfphp8Numphp/CaseInsensitivephp.phpphp'php;

php php php php php/php*php*php Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp_Commonphp_Textphp php*php/
php php php php requirephp_oncephp php'Zendphp/Searchphp/Lucenephp/Analysisphp/Analyzerphp/Commonphp/Textphp.phpphp'php;

php php php php php/php*php*php Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp_Commonphp_Textphp_CaseInsensitivephp php*php/
php php php php requirephp_oncephp php'Zendphp/Searchphp/Lucenephp/Analysisphp/Analyzerphp/Commonphp/Textphp/CaseInsensitivephp.phpphp'php;

php php php php php/php*php*php Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp_Commonphp_TextNumphp php*php/
php php php php requirephp_oncephp php'Zendphp/Searchphp/Lucenephp/Analysisphp/Analyzerphp/Commonphp/TextNumphp.phpphp'php;

php php php php php/php*php*php Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp_Commonphp_TextNumphp_CaseInsensitivephp php*php/
php php php php requirephp_oncephp php'Zendphp/Searchphp/Lucenephp/Analysisphp/Analyzerphp/Commonphp/TextNumphp/CaseInsensitivephp.phpphp'php;
php}


php/php*php*
php php*php Anphp Analyzerphp isphp usedphp tophp analyzephp textphp.
php php*php Itphp thusphp representsphp aphp policyphp forphp extractingphp indexphp termsphp fromphp textphp.
php php*
php php*php Notephp:
php php*php Lucenephp Javaphp implementationphp isphp orientedphp tophp streamsphp.php Itphp providesphp effectivephp work
php php*php withphp aphp hugephp documentsphp php(morephp thenphp php2php0Mbphp)php.
php php*php Butphp enginephp itselfphp isphp notphp orientedphp suchphp documentsphp.
php php*php Thusphp Zendphp_Searchphp_Lucenephp analysisphp APIphp worksphp withphp dataphp stringsphp andphp setsphp php(arraysphp)php.
php php*
php php*php php@categoryphp php php Zend
php php*php php@packagephp php php php Zendphp_Searchphp_Lucene
php php*php php@subpackagephp Analysis
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php/

abstractphp classphp Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzer
php{
php php php php php/php*php*
php php php php php php*php Thephp Analyzerphp implementationphp usedphp byphp defaultphp.
php php php php php php*
php php php php php php*php php@varphp Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzer
php php php php php php*php/
php php php php privatephp staticphp php$php_defaultImplphp;

php php php php php/php*php*
php php php php php php*php Inputphp string
php php php php php php*
php php php php php php*php php@varphp string
php php php php php php*php/
php php php php protectedphp php$php_inputphp php=php nullphp;

php php php php php/php*php*
php php php php php php*php Inputphp stringphp encoding
php php php php php php*
php php php php php php*php php@varphp string
php php php php php php*php/
php php php php protectedphp php$php_encodingphp php=php php'php'php;

php php php php php/php*php*
php php php php php php*php Tokenizephp textphp tophp aphp terms
php php php php php php*php Returnsphp arrayphp ofphp Zendphp_Searchphp_Lucenephp_Analysisphp_Tokenphp objects
php php php php php php*
php php php php php php*php Tokensphp arephp returnedphp inphp UTFphp-php8php php(internalphp Zendphp_Searchphp_Lucenephp encodingphp)
php php php php php php*
php php php php php php*php php@paramphp stringphp php$data
php php php php php php*php php@returnphp array
php php php php php php*php/
php php php php publicphp functionphp tokenizephp(php$dataphp,php php$encodingphp php=php php'php'php)
php php php php php{
php php php php php php php php php$thisphp-php>setInputphp(php$dataphp,php php$encodingphp)php;

php php php php php php php php php$tokenListphp php=php arrayphp(php)php;
php php php php php php php php whilephp php(php(php$nextTokenphp php=php php$thisphp-php>nextTokenphp(php)php)php php!php=php=php nullphp)php php{
php php php php php php php php php php php php php$tokenListphp[php]php php=php php$nextTokenphp;
php php php php php php php php php}

php php php php php php php php returnphp php$tokenListphp;
php php php php php}


php php php php php/php*php*
php php php php php php*php Tokenizationphp streamphp API
php php php php php php*php Setphp input
php php php php php php*
php php php php php php*php php@paramphp stringphp php$data
php php php php php php*php/
php php php php publicphp functionphp setInputphp(php$dataphp,php php$encodingphp php=php php'php'php)
php php php php php{
php php php php php php php php php$thisphp-php>php_inputphp php php php php=php php$dataphp;
php php php php php php php php php$thisphp-php>php_encodingphp php=php php$encodingphp;
php php php php php php php php php$thisphp-php>resetphp(php)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Resetphp tokenphp stream
php php php php php php*php/
php php php php abstractphp publicphp functionphp resetphp(php)php;

php php php php php/php*php*
php php php php php php*php Tokenizationphp streamphp API
php php php php php php*php Getphp nextphp token
php php php php php php*php Returnsphp nullphp atphp thephp endphp ofphp stream
php php php php php php*
php php php php php php*php Tokensphp arephp returnedphp inphp UTFphp-php8php php(internalphp Zendphp_Searchphp_Lucenephp encodingphp)
php php php php php php*
php php php php php php*php php@returnphp Zendphp_Searchphp_Lucenephp_Analysisphp_Tokenphp|null
php php php php php php*php/
php php php php abstractphp publicphp functionphp nextTokenphp(php)php;




php php php php php/php*php*
php php php php php php*php Setphp thephp defaultphp Analyzerphp implementationphp usedphp byphp indexingphp codephp.
php php php php php php*
php php php php php php*php php@paramphp Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp php$similarity
php php php php php php*php/
php php php php publicphp staticphp functionphp setDefaultphp(Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp php$analyzerphp)
php php php php php{
php php php php php php php php selfphp:php:php$php_defaultImplphp php=php php$analyzerphp;
php php php php php}


php php php php php/php*php*
php php php php php php*php Returnphp thephp defaultphp Analyzerphp implementationphp usedphp byphp indexingphp codephp.
php php php php php php*
php php php php php php*php php@returnphp Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzer
php php php php php php*php/
php php php php publicphp staticphp functionphp getDefaultphp(php)
php php php php php{
php php php php php php php php php/php*php*php Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp_Commonphp_Textphp_CaseInsensitivephp php*php/
php php php php php php php php requirephp_oncephp php'Zendphp/Searchphp/Lucenephp/Analysisphp/Analyzerphp/Commonphp/Textphp/CaseInsensitivephp.phpphp'php;

php php php php php php php php ifphp php(php!selfphp:php:php$php_defaultImplphp instanceofphp Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp)php php{
php php php php php php php php php php php php selfphp:php:php$php_defaultImplphp php=php newphp Zendphp_Searchphp_Lucenephp_Analysisphp_Analyzerphp_Commonphp_Textphp_CaseInsensitivephp(php)php;
php php php php php php php php php}

php php php php php php php php returnphp selfphp:php:php$php_defaultImplphp;
php php php php php}
php}

