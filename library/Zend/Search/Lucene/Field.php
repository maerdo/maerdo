<php?php
php/php*php*
php php*php Zendphp Framework
php php*
php php*php LICENSE
php php*
php php*php Thisphp sourcephp filephp isphp subjectphp tophp thephp newphp BSDphp licensephp thatphp isphp bundled
php php*php withphp thisphp packagephp inphp thephp filephp LICENSEphp.txtphp.
php php*php Itphp isphp alsophp availablephp throughphp thephp worldphp-widephp-webphp atphp thisphp URLphp:
php php*php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsd
php php*php Ifphp youphp didphp notphp receivephp aphp copyphp ofphp thephp licensephp andphp arephp unablephp to
php php*php obtainphp itphp throughphp thephp worldphp-widephp-webphp,php pleasephp sendphp anphp email
php php*php tophp licensephp@zendphp.comphp sophp wephp canphp sendphp youphp aphp copyphp immediatelyphp.
php php*
php php*php php@categoryphp php php Zend
php php*php php@packagephp php php php Zendphp_Searchphp_Lucene
php php*php php@subpackagephp Document
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php php@versionphp php php php php$Idphp:php Fieldphp.phpphp php2php0php0php9php6php php2php0php1php0php-php0php1php-php0php6php php0php2php:php0php5php:php0php9Zphp bkarwinphp php$
php php*php/


php/php*php*
php php*php Aphp fieldphp isphp aphp sectionphp ofphp aphp Documentphp.php php Eachphp fieldphp hasphp twophp partsphp,
php php*php aphp namephp andphp aphp valuephp.php Valuesphp mayphp bephp freephp textphp orphp theyphp mayphp bephp atomic
php php*php keywordsphp,php whichphp arephp notphp furtherphp processedphp.php Suchphp keywordsphp may
php php*php bephp usedphp tophp representphp datesphp,php urlsphp,php etcphp.php php Fieldsphp arephp optionally
php php*php storedphp inphp thephp indexphp,php sophp thatphp theyphp mayphp bephp returnedphp withphp hits
php php*php onphp thephp documentphp.
php php*
php php*php php@categoryphp php php Zend
php php*php php@packagephp php php php Zendphp_Searchphp_Lucene
php php*php php@subpackagephp Document
php php*php php@copyrightphp php Copyrightphp php(cphp)php php2php0php0php5php-php2php0php1php0php Zendphp Technologiesphp USAphp Incphp.php php(httpphp:php/php/wwwphp.zendphp.comphp)
php php*php php@licensephp php php php httpphp:php/php/frameworkphp.zendphp.comphp/licensephp/newphp-bsdphp php php php php Newphp BSDphp License
php php*php/
classphp Zendphp_Searchphp_Lucenephp_Field
php{
php php php php php/php*php*
php php php php php php*php Fieldphp name
php php php php php php*
php php php php php php*php php@varphp string
php php php php php php*php/
php php php php publicphp php$namephp;

php php php php php/php*php*
php php php php php php*php Fieldphp value
php php php php php php*
php php php php php php*php php@varphp boolean
php php php php php php*php/
php php php php publicphp php$valuephp;

php php php php php/php*php*
php php php php php php*php Fieldphp isphp tophp bephp storedphp inphp thephp indexphp forphp returnphp withphp searchphp hitsphp.
php php php php php php*
php php php php php php*php php@varphp boolean
php php php php php php*php/
php php php php publicphp php$isStoredphp php php php php=php falsephp;

php php php php php/php*php*
php php php php php php*php Fieldphp isphp tophp bephp indexedphp,php sophp thatphp itphp mayphp bephp searchedphp onphp.
php php php php php php*
php php php php php php*php php@varphp boolean
php php php php php php*php/
php php php php publicphp php$isIndexedphp php php php=php truephp;

php php php php php/php*php*
php php php php php php*php Fieldphp shouldphp bephp tokenizedphp asphp textphp priorphp tophp indexingphp.
php php php php php php*
php php php php php php*php php@varphp boolean
php php php php php php*php/
php php php php publicphp php$isTokenizedphp php=php truephp;
php php php php php/php*php*
php php php php php php*php Fieldphp isphp storedphp asphp binaryphp.
php php php php php php*
php php php php php php*php php@varphp boolean
php php php php php php*php/
php php php php publicphp php$isBinaryphp php php php php=php falsephp;

php php php php php/php*php*
php php php php php php*php Fieldphp arephp storedphp asphp aphp termphp vector
php php php php php php*
php php php php php php*php php@varphp boolean
php php php php php php*php/
php php php php publicphp php$storeTermVectorphp php=php falsephp;

php php php php php/php*php*
php php php php php php*php Fieldphp boostphp factor
php php php php php php*php Itphp'sphp notphp storedphp directlyphp inphp thephp indexphp,php butphp affectsphp onphp normalizationphp factor
php php php php php php*
php php php php php php*php php@varphp float
php php php php php php*php/
php php php php publicphp php$boostphp php=php php1php.php0php;

php php php php php/php*php*
php php php php php php*php Fieldphp valuephp encodingphp.
php php php php php php*
php php php php php php*php php@varphp string
php php php php php php*php/
php php php php publicphp php$encodingphp;

php php php php php/php*php*
php php php php php php*php Objectphp constructor
php php php php php php*
php php php php php php*php php@paramphp stringphp php$name
php php php php php php*php php@paramphp stringphp php$value
php php php php php php*php php@paramphp stringphp php$encoding
php php php php php php*php php@paramphp booleanphp php$isStored
php php php php php php*php php@paramphp booleanphp php$isIndexed
php php php php php php*php php@paramphp booleanphp php$isTokenized
php php php php php php*php php@paramphp booleanphp php$isBinary
php php php php php php*php/
php php php php publicphp functionphp php_php_constructphp(php$namephp,php php$valuephp,php php$encodingphp,php php$isStoredphp,php php$isIndexedphp,php php$isTokenizedphp,php php$isBinaryphp php=php falsephp)
php php php php php{
php php php php php php php php php$thisphp-php>namephp php php=php php$namephp;
php php php php php php php php php$thisphp-php>valuephp php=php php$valuephp;

php php php php php php php php ifphp php(php!php$isBinaryphp)php php{
php php php php php php php php php php php php php$thisphp-php>encodingphp php php php php=php php$encodingphp;
php php php php php php php php php php php php php$thisphp-php>isTokenizedphp php=php php$isTokenizedphp;
php php php php php php php php php}php elsephp php{
php php php php php php php php php php php php php$thisphp-php>encodingphp php php php php=php php'php'php;
php php php php php php php php php php php php php$thisphp-php>isTokenizedphp php=php falsephp;
php php php php php php php php php}

php php php php php php php php php$thisphp-php>isStoredphp php php=php php$isStoredphp;
php php php php php php php php php$thisphp-php>isIndexedphp php=php php$isIndexedphp;
php php php php php php php php php$thisphp-php>isBinaryphp php php=php php$isBinaryphp;

php php php php php php php php php$thisphp-php>storeTermVectorphp php=php falsephp;
php php php php php php php php php$thisphp-php>boostphp php php php php php php php php php php php=php php1php.php0php;
php php php php php}


php php php php php/php*php*
php php php php php php*php Constructsphp aphp Stringphp-valuedphp Fieldphp thatphp isphp notphp tokenizedphp,php butphp isphp indexed
php php php php php php*php andphp storedphp.php php Usefulphp forphp nonphp-textphp fieldsphp,php ephp.gphp.php datephp orphp urlphp.
php php php php php php*
php php php php php php*php php@paramphp stringphp php$name
php php php php php php*php php@paramphp stringphp php$value
php php php php php php*php php@paramphp stringphp php$encoding
php php php php php php*php php@returnphp Zendphp_Searchphp_Lucenephp_Field
php php php php php php*php/
php php php php publicphp staticphp functionphp keywordphp(php$namephp,php php$valuephp,php php$encodingphp php=php php'php'php)
php php php php php{
php php php php php php php php returnphp newphp selfphp(php$namephp,php php$valuephp,php php$encodingphp,php truephp,php truephp,php falsephp)php;
php php php php php}


php php php php php/php*php*
php php php php php php*php Constructsphp aphp Stringphp-valuedphp Fieldphp thatphp isphp notphp tokenizedphp norphp indexedphp,
php php php php php php*php butphp isphp storedphp inphp thephp indexphp,php forphp returnphp withphp hitsphp.
php php php php php php*
php php php php php php*php php@paramphp stringphp php$name
php php php php php php*php php@paramphp stringphp php$value
php php php php php php*php php@paramphp stringphp php$encoding
php php php php php php*php php@returnphp Zendphp_Searchphp_Lucenephp_Field
php php php php php php*php/
php php php php publicphp staticphp functionphp unIndexedphp(php$namephp,php php$valuephp,php php$encodingphp php=php php'php'php)
php php php php php{
php php php php php php php php returnphp newphp selfphp(php$namephp,php php$valuephp,php php$encodingphp,php truephp,php falsephp,php falsephp)php;
php php php php php}


php php php php php/php*php*
php php php php php php*php Constructsphp aphp Binaryphp Stringphp valuedphp Fieldphp thatphp isphp notphp tokenizedphp norphp indexedphp,
php php php php php php*php butphp isphp storedphp inphp thephp indexphp,php forphp returnphp withphp hitsphp.
php php php php php php*
php php php php php php*php php@paramphp stringphp php$name
php php php php php php*php php@paramphp stringphp php$value
php php php php php php*php php@paramphp stringphp php$encoding
php php php php php php*php php@returnphp Zendphp_Searchphp_Lucenephp_Field
php php php php php php*php/
php php php php publicphp staticphp functionphp binaryphp(php$namephp,php php$valuephp)
php php php php php{
php php php php php php php php returnphp newphp selfphp(php$namephp,php php$valuephp,php php'php'php,php truephp,php falsephp,php falsephp,php truephp)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Constructsphp aphp Stringphp-valuedphp Fieldphp thatphp isphp tokenizedphp andphp indexedphp,
php php php php php php*php andphp isphp storedphp inphp thephp indexphp,php forphp returnphp withphp hitsphp.php php Usefulphp forphp shortphp text
php php php php php php*php fieldsphp,php likephp php"titlephp"php orphp php"subjectphp"php.php Termphp vectorphp willphp notphp bephp storedphp forphp thisphp fieldphp.
php php php php php php*
php php php php php php*php php@paramphp stringphp php$name
php php php php php php*php php@paramphp stringphp php$value
php php php php php php*php php@paramphp stringphp php$encoding
php php php php php php*php php@returnphp Zendphp_Searchphp_Lucenephp_Field
php php php php php php*php/
php php php php publicphp staticphp functionphp textphp(php$namephp,php php$valuephp,php php$encodingphp php=php php'php'php)
php php php php php{
php php php php php php php php returnphp newphp selfphp(php$namephp,php php$valuephp,php php$encodingphp,php truephp,php truephp,php truephp)php;
php php php php php}


php php php php php/php*php*
php php php php php php*php Constructsphp aphp Stringphp-valuedphp Fieldphp thatphp isphp tokenizedphp andphp indexedphp,
php php php php php php*php butphp thatphp isphp notphp storedphp inphp thephp indexphp.
php php php php php php*
php php php php php php*php php@paramphp stringphp php$name
php php php php php php*php php@paramphp stringphp php$value
php php php php php php*php php@paramphp stringphp php$encoding
php php php php php php*php php@returnphp Zendphp_Searchphp_Lucenephp_Field
php php php php php php*php/
php php php php publicphp staticphp functionphp unStoredphp(php$namephp,php php$valuephp,php php$encodingphp php=php php'php'php)
php php php php php{
php php php php php php php php returnphp newphp selfphp(php$namephp,php php$valuephp,php php$encodingphp,php falsephp,php truephp,php truephp)php;
php php php php php}

php php php php php/php*php*
php php php php php php*php Getphp fieldphp valuephp inphp UTFphp-php8php encoding
php php php php php php*
php php php php php php*php php@returnphp string
php php php php php php*php/
php php php php publicphp functionphp getUtfphp8Valuephp(php)
php php php php php{
php php php php php php php php ifphp php(strcasecmpphp(php$thisphp-php>encodingphp,php php'utfphp8php'php php)php php=php=php php0php php php|php|
php php php php php php php php php php php php strcasecmpphp(php$thisphp-php>encodingphp,php php'utfphp-php8php'php)php php=php=php php0php php)php php{
php php php php php php php php php php php php php php php php returnphp php$thisphp-php>valuephp;
php php php php php php php php php}php elsephp php{

php php php php php php php php php php php php returnphp php(PHPphp_OSphp php!php=php php'AIXphp'php)php php?php iconvphp(php$thisphp-php>encodingphp,php php'UTFphp-php8php'php,php php$thisphp-php>valuephp)php php:php iconvphp(php'ISOphp8php8php5php9php-php1php'php,php php'UTFphp-php8php'php,php php$thisphp-php>valuephp)php;
php php php php php php php php php}
php php php php php}
php}

